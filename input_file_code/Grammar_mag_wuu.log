/**
  * \file    Grammar_mag.log
  * \brief   Specification of the parsed grammar mag.
  * \date    Thu Jun  3 17:34:53 2010
  * \author  Kilmurray, Gerardo Luis <gerakilmurray@gmail.com>
  * \author  Picco, Gonzalo Martin <gonzalopicco@gmail.com>
*/

semantic domain
    //sort int; -> Type Basic

    op infix (10, left) +: int, int -> int;

attributes
    i1 : inh <int> of {X};
    i2 : inh <int> of {Y};
    i3 : inh <int> of {Y};
    s0 : syn <int> of {S};
    s1 : syn <int> of {X};
    s2 : syn <int> of {Y};
    s3 : syn <int> of {Y};
    s4 : syn <int> of {Z};

/*
symbols
    symbol S NonTerminal -> Attributes: s0;
    symbol X NonTerminal -> Attributes: i1,s1;
    symbol Y NonTerminal -> Attributes: i2,i3,s2,s3;
    symbol Z NonTerminal -> Attributes: s4;
    symbol 'm' Terminal;
    symbol 'n' Terminal;
*/
/* >>>>>>>>>> Initial Symbol of Grammar is S <<<<<<<<<< */

rules
    /*R1*/ S ::= X Y Z
            compute
                /*1*/ S[0].s0 = (((X[0].s1 + Y[0].s2) + Y[0].s3) + Z[0].s4);
                /*2*/ X[0].i1 = Y[0].s3;
                /*3*/ Y[0].i2 = X[0].s1;
                /*4*/ Y[0].i3 = Y[0].s2;
            end;

    /*R2*/ Y ::= 'm'
            compute
                /*5*/ Y[0].s2 = Y[0].i2;
                /*6*/ Y[0].s3 = 1;
            end;

    /*R3*/ Y ::= 'n'
            compute
                /*7*/ Y[0].s2 = 2;
                /*8*/ Y[0].s3 = Y[0].i3;
            end;

    /*R4*/ X ::= 'm'
            compute
                /*9*/ X[0].s1 = X[0].i1;
            end;

    /*R5*/ Z ::= Y
            compute
                /*10*/ Z[0].s4 = Y[0].s3;
                /*11*/ Y[0].i2 = 3;
                /*12*/ Y[0].i3 = Y[0].s2;
            end;


