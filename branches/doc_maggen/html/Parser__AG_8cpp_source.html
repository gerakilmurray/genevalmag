<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>maggen: src/Parser/Parser_AG.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>src/Parser/Parser_AG.cpp</h1><a href="Parser__AG_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;time.h&gt;</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;boost/spirit/include/classic_core.hpp&gt;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;boost/spirit/include/classic_symbols.hpp&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;boost/spirit/include/classic_attribute.hpp&gt;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;boost/spirit/include/classic_functor_parser.hpp&gt;</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;../../include/Parser/Parser_AG.h&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;../../include/Parser/Semantics_checks.h&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;../../include/Parser/Semantics_actions.h&quot;</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="keyword">using namespace </span>std;
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="keyword">namespace </span>genevalmag
<a name="l00026"></a>00026 {
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="keyword">const</span> <span class="keywordtype">string</span> <a class="code" href="namespacegenevalmag.html#add88c73415b1eb5c506b9d66b294b7cf">FILE_GRAMMAR</a>(<span class="stringliteral">&quot;Grammar_mag.log&quot;</span>);
<a name="l00029"></a>00029 
<a name="l00033"></a><a class="code" href="classgenevalmag_1_1Parser__AG.html#a107da8e92db8c44204471982619ff339">00033</a> <a class="code" href="classgenevalmag_1_1Parser__AG.html#a107da8e92db8c44204471982619ff339">Parser_AG::Parser_AG</a>()
<a name="l00034"></a>00034 {
<a name="l00035"></a>00035 }
<a name="l00039"></a><a class="code" href="classgenevalmag_1_1Parser__AG.html#a834ddbb83e5822f485d16cdc432762cf">00039</a> <a class="code" href="classgenevalmag_1_1Parser__AG.html#a834ddbb83e5822f485d16cdc432762cf">Parser_AG::~Parser_AG</a>()
<a name="l00040"></a>00040 {
<a name="l00041"></a>00041 }
<a name="l00042"></a>00042 
<a name="l00046"></a><a class="code" href="classgenevalmag_1_1Parser__AG.html#ac6b25c2c2cb50461c50ba50c186a3b42">00046</a> <span class="keyword">const</span> <a class="code" href="classgenevalmag_1_1Attr__grammar.html">Attr_grammar</a> &amp;<a class="code" href="classgenevalmag_1_1Parser__AG.html#ac6b25c2c2cb50461c50ba50c186a3b42">Parser_AG::get_attr_grammar</a>()
<a name="l00047"></a>00047 {
<a name="l00048"></a>00048         <span class="keywordflow">return</span> <a class="code" href="classgenevalmag_1_1Parser__AG.html#af806906189d19d98132d94b2fdf4a7d1" title="Internal structure of grammar.">attr_grammar</a>;
<a name="l00049"></a>00049 }
<a name="l00050"></a>00050 
<a name="l00054"></a><a class="code" href="namespacegenevalmag.html#a4093becff20c4564db790c08c1189aaf">00054</a> std::ostream&amp; <a class="code" href="namespacegenevalmag.html#a4093becff20c4564db790c08c1189aaf">operator&lt;&lt;</a>(std::ostream&amp; out, file_position <span class="keyword">const</span>&amp; lc)
<a name="l00055"></a>00055 {
<a name="l00056"></a>00056     <span class="keywordflow">return</span> out &lt;&lt;
<a name="l00057"></a>00057             <span class="stringliteral">&quot;\nFile:  &quot;</span> &lt;&lt; lc.file &lt;&lt;
<a name="l00058"></a>00058             <span class="stringliteral">&quot;\nLine:  &quot;</span> &lt;&lt; lc.line &lt;&lt;
<a name="l00059"></a>00059             <span class="stringliteral">&quot;\nCol:   &quot;</span> &lt;&lt; lc.column &lt;&lt; endl;
<a name="l00060"></a>00060 }
<a name="l00061"></a>00061 
<a name="l00066"></a><a class="code" href="structgenevalmag_1_1skip__parser.html">00066</a> <span class="keyword">struct </span><a class="code" href="structgenevalmag_1_1skip__parser.html">skip_parser</a>: <span class="keyword">public</span> grammar&lt;skip_parser&gt;
<a name="l00067"></a>00067 {
<a name="l00068"></a>00068         <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ScannerT&gt;
<a name="l00069"></a><a class="code" href="structgenevalmag_1_1skip__parser_1_1definition.html">00069</a>         <span class="keyword">struct </span><a class="code" href="structgenevalmag_1_1skip__parser_1_1definition.html">definition</a>
<a name="l00070"></a>00070         {
<a name="l00071"></a><a class="code" href="structgenevalmag_1_1skip__parser_1_1definition.html#a07635eafec4514b1414d278690927029">00071</a>                 <a class="code" href="structgenevalmag_1_1skip__parser_1_1definition.html#a07635eafec4514b1414d278690927029">definition</a>(<a class="code" href="structgenevalmag_1_1skip__parser.html">skip_parser</a> <span class="keyword">const</span> &amp;<span class="keyword">self</span>)
<a name="l00072"></a>00072                 {
<a name="l00073"></a>00073                         <a class="code" href="structgenevalmag_1_1skip__parser_1_1definition.html#a2398e67792c6720473244c0c6c9a0d93">skip</a> = space_p
<a name="l00074"></a>00074                                  |<span class="stringliteral">&quot;//&quot;</span>&gt;&gt;*(anychar_p-<span class="charliteral">&#39;\n&#39;</span>)
<a name="l00075"></a>00075                                  |<span class="stringliteral">&quot;/*&quot;</span>&gt;&gt;*(anychar_p-<span class="stringliteral">&quot;*/&quot;</span>)&gt;&gt;<span class="stringliteral">&quot;*/&quot;</span>
<a name="l00076"></a>00076                                  ;
<a name="l00077"></a>00077                 }
<a name="l00078"></a>00078 
<a name="l00079"></a><a class="code" href="structgenevalmag_1_1skip__parser_1_1definition.html#a2398e67792c6720473244c0c6c9a0d93">00079</a>                 rule&lt;ScannerT&gt; <a class="code" href="structgenevalmag_1_1skip__parser_1_1definition.html#a2398e67792c6720473244c0c6c9a0d93">skip</a>;
<a name="l00080"></a>00080 
<a name="l00081"></a><a class="code" href="structgenevalmag_1_1skip__parser_1_1definition.html#aa0b33d5c074089c9c6b2b32f7b231ec8">00081</a>                 rule&lt;ScannerT&gt; <span class="keyword">const</span> &amp;<a class="code" href="structgenevalmag_1_1skip__parser_1_1definition.html#aa0b33d5c074089c9c6b2b32f7b231ec8">start</a>()<span class="keyword"> const</span>
<a name="l00082"></a>00082 <span class="keyword">                </span>{
<a name="l00083"></a>00083                         <span class="keywordflow">return</span> <a class="code" href="structgenevalmag_1_1skip__parser_1_1definition.html#a2398e67792c6720473244c0c6c9a0d93">skip</a>;
<a name="l00084"></a>00084                 }
<a name="l00085"></a>00085         };
<a name="l00086"></a>00086 };
<a name="l00087"></a>00087 
<a name="l00092"></a><a class="code" href="structgenevalmag_1_1attritute__grammar.html">00092</a> <span class="keyword">struct </span><a class="code" href="structgenevalmag_1_1attritute__grammar.html">attritute_grammar</a>: <span class="keyword">public</span> grammar&lt;attritute_grammar&gt;
<a name="l00093"></a>00093 {
<a name="l00094"></a>00094         <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ScannerT&gt;
<a name="l00095"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html">00095</a>         <span class="keyword">struct </span><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html">definition</a>
<a name="l00096"></a>00096         {
<a name="l00097"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a77a5f8d316d607055d02312370c825cc">00097</a>                 <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a77a5f8d316d607055d02312370c825cc">definition</a>(<a class="code" href="structgenevalmag_1_1attritute__grammar.html">attritute_grammar</a> <span class="keyword">const</span> &amp;<span class="keyword">self</span>)
<a name="l00098"></a>00098                 {
<a name="l00099"></a>00099                         <span class="comment">/* Common declarations. */</span>
<a name="l00100"></a>00100 
<a name="l00101"></a>00101                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a3cd3a5ea5bb94000d6283f353f49017b">r_ident</a> = lexeme_d[(alpha_p|<span class="charliteral">&#39;_&#39;</span>)&gt;&gt;*(alnum_p|<span class="charliteral">&#39;_&#39;</span>)]-<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a31577dcb0d025bbcdf18f743f2b0dc12">r_reserved_word</a>;
<a name="l00102"></a>00102 
<a name="l00103"></a>00103                         r_reserved_word = str_p(<span class="stringliteral">&quot;compute&quot;</span>)|<span class="stringliteral">&quot;end&quot;</span>
<a name="l00104"></a>00104                                                 | <span class="stringliteral">&quot;all&quot;</span>
<a name="l00105"></a>00105                                                         | <span class="stringliteral">&quot;semantic domain&quot;</span>|<span class="stringliteral">&quot;attributes&quot;</span> |<span class="stringliteral">&quot;rules&quot;</span>
<a name="l00106"></a>00106                                                         | <span class="stringliteral">&quot;sort&quot;</span>|<span class="stringliteral">&quot;op&quot;</span>|<span class="stringliteral">&quot;function&quot;</span>
<a name="l00107"></a>00107                                                         | <span class="stringliteral">&quot;infix&quot;</span>|<span class="stringliteral">&quot;prefix&quot;</span>|<span class="stringliteral">&quot;postfix&quot;</span>
<a name="l00108"></a>00108                                                         | <span class="stringliteral">&quot;syn&quot;</span>|<span class="stringliteral">&quot;inh&quot;</span>
<a name="l00109"></a>00109                                                         | <span class="stringliteral">&quot;left&quot;</span>|<span class="stringliteral">&quot;right&quot;</span>|<span class="stringliteral">&quot;non_assoc&quot;</span>
<a name="l00110"></a>00110                                                         | <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a58133c902b276c3fc7795a0e868f26f9">r_cpp_reserved_words</a>
<a name="l00111"></a>00111                                                         ;
<a name="l00112"></a>00112 
<a name="l00113"></a>00113                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a58133c902b276c3fc7795a0e868f26f9">r_cpp_reserved_words</a> = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a0cdc120e07aa93de5d9ee66e8489ead8">r_cpp_basic_types</a>
<a name="l00114"></a>00114                                                              | str_p(<span class="stringliteral">&quot;and&quot;</span>)|<span class="stringliteral">&quot;and_eq&quot;</span>|<span class="stringliteral">&quot;asm&quot;</span>|<span class="stringliteral">&quot;auto&quot;</span>|<span class="stringliteral">&quot;bitand&quot;</span>
<a name="l00115"></a>00115                                                              | <span class="stringliteral">&quot;bitor&quot;</span>|<span class="stringliteral">&quot;break&quot;</span>|<span class="stringliteral">&quot;case&quot;</span>|<span class="stringliteral">&quot;catch&quot;</span>|<span class="stringliteral">&quot;class&quot;</span>|<span class="stringliteral">&quot;compl&quot;</span>
<a name="l00116"></a>00116                                                              | <span class="stringliteral">&quot;const&quot;</span>|<span class="stringliteral">&quot;const_cast&quot;</span>|<span class="stringliteral">&quot;continue&quot;</span>|<span class="stringliteral">&quot;default&quot;</span>
<a name="l00117"></a>00117                                                              | <span class="stringliteral">&quot;delete&quot;</span>|<span class="stringliteral">&quot;do&quot;</span>|<span class="stringliteral">&quot;double&quot;</span>|<span class="stringliteral">&quot;dynamic_cast&quot;</span>|<span class="stringliteral">&quot;else&quot;</span>
<a name="l00118"></a>00118                                                              | <span class="stringliteral">&quot;enum&quot;</span>|<span class="stringliteral">&quot;explicit&quot;</span>|<span class="stringliteral">&quot;export&quot;</span>|<span class="stringliteral">&quot;extern&quot;</span>|<span class="stringliteral">&quot;false&quot;</span>
<a name="l00119"></a>00119                                                              | <span class="stringliteral">&quot;for&quot;</span>|<span class="stringliteral">&quot;friend&quot;</span>|<span class="stringliteral">&quot;goto&quot;</span>|<span class="stringliteral">&quot;if&quot;</span>|<span class="stringliteral">&quot;inline&quot;</span>|<span class="stringliteral">&quot;long&quot;</span>
<a name="l00120"></a>00120                                                              | <span class="stringliteral">&quot;mutable&quot;</span>|<span class="stringliteral">&quot;namespace&quot;</span>|<span class="stringliteral">&quot;new&quot;</span>|<span class="stringliteral">&quot;not&quot;</span>|<span class="stringliteral">&quot;not_eq&quot;</span>
<a name="l00121"></a>00121                                                              | <span class="stringliteral">&quot;operator&quot;</span>|<span class="stringliteral">&quot;or&quot;</span>|<span class="stringliteral">&quot;or_eq&quot;</span>|<span class="stringliteral">&quot;private&quot;</span>|<span class="stringliteral">&quot;protected&quot;</span>
<a name="l00122"></a>00122                                                              | <span class="stringliteral">&quot;public&quot;</span>|<span class="stringliteral">&quot;register&quot;</span>|<span class="stringliteral">&quot;reinterpret_cast&quot;</span>|<span class="stringliteral">&quot;return&quot;</span>
<a name="l00123"></a>00123                                                              | <span class="stringliteral">&quot;short&quot;</span>|<span class="stringliteral">&quot;signed&quot;</span>|<span class="stringliteral">&quot;sizeof&quot;</span>|<span class="stringliteral">&quot;static&quot;</span>|<span class="stringliteral">&quot;static_cast&quot;</span>
<a name="l00124"></a>00124                                                              | <span class="stringliteral">&quot;struct&quot;</span>|<span class="stringliteral">&quot;switch&quot;</span>|<span class="stringliteral">&quot;template&quot;</span>|<span class="stringliteral">&quot;this&quot;</span>|<span class="stringliteral">&quot;throw&quot;</span>|<span class="stringliteral">&quot;true&quot;</span>
<a name="l00125"></a>00125                                                              | <span class="stringliteral">&quot;try&quot;</span>|<span class="stringliteral">&quot;typedef&quot;</span>|<span class="stringliteral">&quot;typeid&quot;</span>|<span class="stringliteral">&quot;typename&quot;</span>|<span class="stringliteral">&quot;union&quot;</span>
<a name="l00126"></a>00126                                                              | <span class="stringliteral">&quot;unsigned&quot;</span>|<span class="stringliteral">&quot;using&quot;</span>|<span class="stringliteral">&quot;virtual&quot;</span>|<span class="stringliteral">&quot;void&quot;</span>|<span class="stringliteral">&quot;volatile&quot;</span>
<a name="l00127"></a>00127                                                              | <span class="stringliteral">&quot;wchar_t&quot;</span>|<span class="stringliteral">&quot;while&quot;</span>|<span class="stringliteral">&quot;xor&quot;</span>|<span class="stringliteral">&quot;xor_eq&quot;</span>
<a name="l00128"></a>00128                                                              ;
<a name="l00129"></a>00129 
<a name="l00130"></a>00130                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a0cdc120e07aa93de5d9ee66e8489ead8">r_cpp_basic_types</a> = str_p(<span class="stringliteral">&quot;bool&quot;</span>)|<span class="stringliteral">&quot;char&quot;</span>|<span class="stringliteral">&quot;float&quot;</span>|<span class="stringliteral">&quot;int&quot;</span>|<span class="stringliteral">&quot;string&quot;</span>;
<a name="l00131"></a>00131 
<a name="l00132"></a>00132                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a00bb751588780a4499c53c5bc282785b">r_oper</a> = lexeme_d[(alpha_p|<span class="charliteral">&#39;_&#39;</span>|<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a36ec94f7566710ed880ee89dfa1d3c57">r_id_op</a>)&gt;&gt;*(alnum_p|<span class="charliteral">&#39;_&#39;</span>|<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a36ec94f7566710ed880ee89dfa1d3c57">r_id_op</a>)];
<a name="l00133"></a>00133 
<a name="l00134"></a>00134                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a36ec94f7566710ed880ee89dfa1d3c57">r_id_op</a> = ch_p(<span class="charliteral">&#39;+&#39;</span>)|<span class="charliteral">&#39;*&#39;</span>|<span class="charliteral">&#39;/&#39;</span>|<span class="charliteral">&#39;^&#39;</span>|<span class="charliteral">&#39;%&#39;</span>|<span class="charliteral">&#39;&amp;&#39;</span>|<span class="charliteral">&#39;&lt;&#39;</span>|<span class="charliteral">&#39;=&#39;</span>|<span class="charliteral">&#39;-&#39;</span>|<span class="charliteral">&#39;&gt;&#39;</span>|<span class="charliteral">&#39;|&#39;</span>|<span class="charliteral">&#39;~&#39;</span>|<span class="charliteral">&#39;.&#39;</span>|<span class="charliteral">&#39;,&#39;</span>|<span class="charliteral">&#39;?&#39;</span>;
<a name="l00135"></a>00135 
<a name="l00136"></a>00136                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ab2df618e7839598d3cd9de20bc825ff0">r_boolean</a> = str_p(<span class="stringliteral">&quot;true&quot;</span>)|<span class="stringliteral">&quot;false&quot;</span>;
<a name="l00137"></a>00137 
<a name="l00138"></a>00138                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8ba1a8b7f2d8442370525bef29181fb6">r_char</a> = lexeme_d[ch_p(<span class="charliteral">&#39;\&#39;&#39;</span>)&gt;&gt;(anychar_p)&gt;&gt;ch_p(<span class="charliteral">&#39;\&#39;&#39;</span>)];
<a name="l00139"></a>00139 
<a name="l00140"></a>00140                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a46b0e2fa817970d2ad50aad55b987276">r_string</a> = lexeme_d[ch_p(<span class="charliteral">&#39;\&quot;&#39;</span>)&gt;&gt;<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae79512aaef022aaef9c68f92ea4f6a85">r_string_lit</a>&gt;&gt;ch_p(<span class="charliteral">&#39;\&quot;&#39;</span>)];
<a name="l00141"></a>00141 
<a name="l00142"></a>00142                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae79512aaef022aaef9c68f92ea4f6a85">r_string_lit</a> = +((anychar_p-(ch_p(<span class="charliteral">&#39;\&quot;&#39;</span>)|<span class="stringliteral">&quot;\\&quot;</span>|<span class="charliteral">&#39;\&#39;&#39;</span>))|<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a3b5b8684d55c4095aef56309030035b3">r_esc_seq</a>);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a3b5b8684d55c4095aef56309030035b3">r_esc_seq</a> = ch_p(<span class="charliteral">&#39;\\&#39;</span>)&gt;&gt;
<a name="l00145"></a>00145                                             ( oct_p
<a name="l00146"></a>00146                                                 | as_lower_d[<span class="charliteral">&#39;x&#39;</span>]&gt;&gt;hex_p
<a name="l00147"></a>00147                                                 | (anychar_p-ch_p(<span class="charliteral">&#39;\n&#39;</span>))
<a name="l00148"></a>00148                                                 )
<a name="l00149"></a>00149                                       ;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151                         <span class="comment">/*</span>
<a name="l00152"></a>00152 <span class="comment">                         * Declaration of Semantic Domain.</span>
<a name="l00153"></a>00153 <span class="comment">                         */</span>
<a name="l00154"></a>00154                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a9ea576ee1b0ec26c4f6ea706b51a6f96">r_semantic_domain</a> = lexeme_d[str_p(<span class="stringliteral">&quot;semantic domain&quot;</span>)&gt;&gt;space_p]&gt;&gt;
<a name="l00155"></a>00155                                                     +<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7220d53736e4c11511bc1472c04ad803">r_bloq_sem</a>;
<a name="l00156"></a>00156 
<a name="l00157"></a>00157                         r_bloq_sem = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#aaadce2fe2c90b72f3752865efee316a1">r_decl_sort</a>
<a name="l00158"></a>00158                                            | <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a20ea69e0be24e838bb6c8592abeee442">r_decl_oper</a>[&amp;<a class="code" href="namespacegenevalmag.html#a5651e2842c6f77725d4c10f46655ead4">add_operator</a>]
<a name="l00159"></a>00159                                            | <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a411b4044b46f24a80cdbed21c688c7b7">r_decl_func</a>[&amp;<a class="code" href="namespacegenevalmag.html#aff5e0f0cff477c34b63116d99dfbe9b0">add_function</a>];
<a name="l00160"></a>00160 
<a name="l00161"></a>00161                         <span class="comment">/* Declaration of Sorts. */</span>
<a name="l00162"></a>00162 
<a name="l00163"></a>00163                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#aaadce2fe2c90b72f3752865efee316a1">r_decl_sort</a> = lexeme_d[str_p(<span class="stringliteral">&quot;sort&quot;</span>)&gt;&gt;space_p]&gt;&gt;
<a name="l00164"></a>00164                                                   (<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a3cd3a5ea5bb94000d6283f353f49017b">r_ident</a>[&amp;<a class="code" href="namespacegenevalmag.html#a8fe47e97e9f000f1eb35ee9e86b2a5c0">create_sort</a>][<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a22d68c8aa8d0c27b6272da7e076dc338">st_sorts</a>.add]%<span class="charliteral">&#39;,&#39;</span>)&gt;&gt;
<a name="l00165"></a>00165                                               <span class="charliteral">&#39;;&#39;</span>;
<a name="l00166"></a>00166 
<a name="l00167"></a>00167                         <span class="comment">/* Declaration of Operators. */</span>
<a name="l00168"></a>00168 
<a name="l00169"></a>00169                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a20ea69e0be24e838bb6c8592abeee442">r_decl_oper</a>     = lexeme_d[str_p(<span class="stringliteral">&quot;op&quot;</span>)&gt;&gt;space_p][&amp;<a class="code" href="namespacegenevalmag.html#a815257dc75d0f8a85662cdfc618c2187">inic_func</a>]&gt;&gt;
<a name="l00170"></a>00170                                                   (<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#aea973cb9f0936661bca48570bf3a046c">r_oper_infix</a>|<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ac64bf6eafc41d12c0a8c9b56a2749500">r_oper_postfix</a>|<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8a68baac35400858a4adb56164b2c17e">r_oper_prefix</a>)&gt;&gt;
<a name="l00171"></a>00171                                                   str_p(<span class="stringliteral">&quot;-&gt;&quot;</span>)&gt;&gt;
<a name="l00172"></a>00172                                                   <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a337605b1c4485d58daa5b7fddfbe9f1d">r_sort_st</a>[&amp;<a class="code" href="namespacegenevalmag.html#a6c5fe5628b5ac4b3e2d9c4fc93985abe">save_image_func</a>]&gt;&gt;
<a name="l00173"></a>00173                                                   <span class="charliteral">&#39;;&#39;</span>;
<a name="l00174"></a>00174 
<a name="l00175"></a>00175                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#aea973cb9f0936661bca48570bf3a046c">r_oper_infix</a> = str_p(<span class="stringliteral">&quot;infix&quot;</span>)[&amp;<a class="code" href="namespacegenevalmag.html#a6c04408088fac02746a5a14e9b10f304">save_mode_op</a>]&gt;&gt;
<a name="l00176"></a>00176                                                !<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a262df28d486a59c2b04c312cb25f0416">r_oper_mode</a>&gt;&gt;
<a name="l00177"></a>00177                                                    <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a00bb751588780a4499c53c5bc282785b">r_oper</a>[&amp;<a class="code" href="namespacegenevalmag.html#af3954dcbe7a20818880776138409f413">save_name_func</a>][<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae9a2e330966fb02491bf0663ec3b5b96">st_op_infix</a>.add]&gt;&gt;
<a name="l00178"></a>00178                                                    <span class="charliteral">&#39;:&#39;</span>&gt;&gt;
<a name="l00179"></a>00179                                                    <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a337605b1c4485d58daa5b7fddfbe9f1d">r_sort_st</a>[&amp;<a class="code" href="namespacegenevalmag.html#ae333368e344fd2e4542788afb8d9990e">save_domain_func</a>]&gt;&gt;<span class="charliteral">&#39;,&#39;</span>&gt;&gt;<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a337605b1c4485d58daa5b7fddfbe9f1d">r_sort_st</a>[&amp;<a class="code" href="namespacegenevalmag.html#ae333368e344fd2e4542788afb8d9990e">save_domain_func</a>];
<a name="l00180"></a>00180 
<a name="l00181"></a>00181                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ac64bf6eafc41d12c0a8c9b56a2749500">r_oper_postfix</a> = str_p(<span class="stringliteral">&quot;postfix&quot;</span>)[&amp;<a class="code" href="namespacegenevalmag.html#a6c04408088fac02746a5a14e9b10f304">save_mode_op</a>]&gt;&gt;
<a name="l00182"></a>00182                                                  !<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a262df28d486a59c2b04c312cb25f0416">r_oper_mode</a>&gt;&gt;
<a name="l00183"></a>00183                                                          <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a00bb751588780a4499c53c5bc282785b">r_oper</a>[&amp;<a class="code" href="namespacegenevalmag.html#af3954dcbe7a20818880776138409f413">save_name_func</a>][<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a628bd190709469b07c2f64c1763fffdf">st_op_postfix</a>.add]&gt;&gt;
<a name="l00184"></a>00184                                                          <span class="charliteral">&#39;:&#39;</span>&gt;&gt;
<a name="l00185"></a>00185                                                          r_sort_st[&amp;<a class="code" href="namespacegenevalmag.html#ae333368e344fd2e4542788afb8d9990e">save_domain_func</a>];
<a name="l00186"></a>00186 
<a name="l00187"></a>00187                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8a68baac35400858a4adb56164b2c17e">r_oper_prefix</a> = !(str_p(<span class="stringliteral">&quot;prefix&quot;</span>)[&amp;<a class="code" href="namespacegenevalmag.html#a6c04408088fac02746a5a14e9b10f304">save_mode_op</a>])&gt;&gt;
<a name="l00188"></a>00188                                                 !<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a262df28d486a59c2b04c312cb25f0416">r_oper_mode</a>&gt;&gt;
<a name="l00189"></a>00189                                                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a00bb751588780a4499c53c5bc282785b">r_oper</a>[&amp;<a class="code" href="namespacegenevalmag.html#af3954dcbe7a20818880776138409f413">save_name_func</a>][<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#aeb3e8d6c6539eb627c38f96a5ae72759">st_op_prefix</a>.add]&gt;&gt;
<a name="l00190"></a>00190                                                         <span class="charliteral">&#39;:&#39;</span>&gt;&gt;
<a name="l00191"></a>00191                                                         r_sort_st[&amp;<a class="code" href="namespacegenevalmag.html#ae333368e344fd2e4542788afb8d9990e">save_domain_func</a>];
<a name="l00192"></a>00192 
<a name="l00193"></a>00193                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a262df28d486a59c2b04c312cb25f0416">r_oper_mode</a>     = <span class="charliteral">&#39;(&#39;</span>&gt;&gt;
<a name="l00194"></a>00194                                               (uint_p[&amp;<a class="code" href="namespacegenevalmag.html#a76626584a4d067440fb992103081af8a">save_prec_op</a>]|<span class="charliteral">&#39;_&#39;</span>)&gt;&gt;
<a name="l00195"></a>00195                                               <span class="charliteral">&#39;,&#39;</span>&gt;&gt;
<a name="l00196"></a>00196                                               (<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7e427631cb39597826061eae16544d46">r_oper_assoc</a>[&amp;<a class="code" href="namespacegenevalmag.html#a3aa0e95a99ace1f802a226e24366f4fb">save_assoc_op</a>]|<span class="charliteral">&#39;_&#39;</span>)&gt;&gt;
<a name="l00197"></a>00197                                               <span class="charliteral">&#39;)&#39;</span>;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7e427631cb39597826061eae16544d46">r_oper_assoc</a> = str_p(<span class="stringliteral">&quot;left&quot;</span>)|<span class="stringliteral">&quot;right&quot;</span>|<span class="stringliteral">&quot;non_assoc&quot;</span>;
<a name="l00200"></a>00200 
<a name="l00201"></a>00201                         <span class="comment">/* Declaration of Functions. */</span>
<a name="l00202"></a>00202 
<a name="l00203"></a>00203                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a411b4044b46f24a80cdbed21c688c7b7">r_decl_func</a>     = lexeme_d[str_p(<span class="stringliteral">&quot;function&quot;</span>)&gt;&gt;space_p]&gt;&gt;
<a name="l00204"></a>00204                                                   <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a00bb751588780a4499c53c5bc282785b">r_oper</a>[&amp;<a class="code" href="namespacegenevalmag.html#a815257dc75d0f8a85662cdfc618c2187">inic_func</a>][&amp;<a class="code" href="namespacegenevalmag.html#af3954dcbe7a20818880776138409f413">save_name_func</a>][<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a5d1b5fa3e7dfd54784f7f52c100fdca7">st_functions</a>.add]&gt;&gt;
<a name="l00205"></a>00205                                                   <span class="charliteral">&#39;:&#39;</span>&gt;&gt;
<a name="l00206"></a>00206                                                   !<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ab5db15e112b1c264fa4d04bdaa68e758">r_dom_func</a>&gt;&gt;
<a name="l00207"></a>00207                                                   str_p(<span class="stringliteral">&quot;-&gt;&quot;</span>)&gt;&gt;
<a name="l00208"></a>00208                                                   r_sort_st[&amp;<a class="code" href="namespacegenevalmag.html#a6c5fe5628b5ac4b3e2d9c4fc93985abe">save_image_func</a>]&gt;&gt;
<a name="l00209"></a>00209                                                   <span class="charliteral">&#39;;&#39;</span>;
<a name="l00210"></a>00210 
<a name="l00211"></a>00211                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ab5db15e112b1c264fa4d04bdaa68e758">r_dom_func</a>      = r_sort_st[&amp;<a class="code" href="namespacegenevalmag.html#ae333368e344fd2e4542788afb8d9990e">save_domain_func</a>]%<span class="charliteral">&#39;,&#39;</span>;
<a name="l00212"></a>00212 
<a name="l00213"></a>00213                         <span class="comment">/*</span>
<a name="l00214"></a>00214 <span class="comment">                         * Declaration of Attributes.</span>
<a name="l00215"></a>00215 <span class="comment">                         */</span>
<a name="l00216"></a>00216                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a6fb7be591d4ce361998c33e3f99aaa4a">r_attributes</a> = lexeme_d[str_p(<span class="stringliteral">&quot;attributes&quot;</span>)&gt;&gt;space_p]&gt;&gt;
<a name="l00217"></a>00217                                                +<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a255e9a3002dc4e6da571b57c6bacc62a">r_decl_attr</a>[&amp;<a class="code" href="namespacegenevalmag.html#a640285acc8edfe19e082795784dbbd51">create_attributes</a>];
<a name="l00218"></a>00218 
<a name="l00219"></a>00219                         r_decl_attr = (<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a3cd3a5ea5bb94000d6283f353f49017b">r_ident</a>[&amp;<a class="code" href="namespacegenevalmag.html#a92edf3022d197c1c9587126d1aea5c9f">add_attribute</a>][<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a657fac5b2a9e5b6c41fad89903fc1e78">st_attributes</a>.add]%<span class="charliteral">&#39;,&#39;</span>)&gt;&gt;
<a name="l00220"></a>00220                                                   <span class="charliteral">&#39;:&#39;</span>&gt;&gt;
<a name="l00221"></a>00221                                                   !(<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#af26439d1c38aa5832b576e5dff033cdb">r_type_attr</a>[&amp;<a class="code" href="namespacegenevalmag.html#a9669d56acdb87bd7130c7da9d810b53a">save_type_attr</a>])&gt;&gt;
<a name="l00222"></a>00222                                                   <span class="charliteral">&#39;&lt;&#39;</span>&gt;&gt;r_sort_st[&amp;<a class="code" href="namespacegenevalmag.html#a48c1d5796cdb99233cf2dfe9d2224618">save_sort_attr</a>]&gt;&gt;<span class="charliteral">&#39;&gt;&#39;</span>&gt;&gt;
<a name="l00223"></a>00223                                                   lexeme_d[str_p(<span class="stringliteral">&quot;of&quot;</span>)&gt;&gt;space_p]&gt;&gt;
<a name="l00224"></a>00224                                                   (<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a72f5a181b2ba65c16488f2c2e2777ea4">r_conj_symb</a> |
<a name="l00225"></a>00225                                                    (str_p(<span class="stringliteral">&quot;all&quot;</span>)&gt;&gt;!(<span class="charliteral">&#39;-&#39;</span>&gt;&gt;<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a72f5a181b2ba65c16488f2c2e2777ea4">r_conj_symb</a>))
<a name="l00226"></a>00226                                                   )[&amp;<a class="code" href="namespacegenevalmag.html#a8d8548aa085e3c04a2cb7abc9f5deacc">save_member_list_attr</a>]&gt;&gt;
<a name="l00227"></a>00227                                                   <span class="charliteral">&#39;;&#39;</span>;
<a name="l00228"></a>00228 
<a name="l00229"></a>00229                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a72f5a181b2ba65c16488f2c2e2777ea4">r_conj_symb</a> = <span class="charliteral">&#39;{&#39;</span>&gt;&gt;(<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a3cd3a5ea5bb94000d6283f353f49017b">r_ident</a>%<span class="charliteral">&#39;,&#39;</span>)&gt;&gt;<span class="charliteral">&#39;}&#39;</span>;
<a name="l00230"></a>00230 
<a name="l00231"></a>00231                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#af26439d1c38aa5832b576e5dff033cdb">r_type_attr</a> = str_p(<span class="stringliteral">&quot;inh&quot;</span>)|<span class="stringliteral">&quot;syn&quot;</span>;
<a name="l00232"></a>00232 
<a name="l00233"></a>00233                         <span class="comment">/*</span>
<a name="l00234"></a>00234 <span class="comment">                         * Declaration of Rules.</span>
<a name="l00235"></a>00235 <span class="comment">                         */</span>
<a name="l00236"></a>00236 
<a name="l00237"></a>00237                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a25d876ebeb9dab6244b8c0cd102ab3de">r_rules</a> = lexeme_d[str_p(<span class="stringliteral">&quot;rules&quot;</span>)&gt;&gt;space_p]&gt;&gt;
<a name="l00238"></a>00238                                           (+<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a926ac8cc5506dbfff6bf5e61fe99a67e">r_decl_rule</a>)&gt;&gt;eps_p[&amp;<a class="code" href="namespacegenevalmag.html#ac8f04dfdf39c964f9219cc5a7fb7197b">check_well_defined</a>];
<a name="l00239"></a>00239 
<a name="l00240"></a>00240                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a926ac8cc5506dbfff6bf5e61fe99a67e">r_decl_rule</a> = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a3cd3a5ea5bb94000d6283f353f49017b">r_ident</a>[&amp;<a class="code" href="namespacegenevalmag.html#a6d8584e0b692b4a20384e0742b22630a">create_new_non_terminal</a>][&amp;<a class="code" href="namespacegenevalmag.html#a38a9e6cd331b8e5caad524d12229d71e">create_rule</a>][<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7cf91669589785b113405dd95b5d138f">st_non_terminal</a>.add]&gt;&gt;
<a name="l00241"></a>00241                                                   str_p(<span class="stringliteral">&quot;::=&quot;</span>)&gt;&gt;
<a name="l00242"></a>00242                                                   <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7c9d5ea66aaf2f84b0a91c0c33c1fe24">r_right_rule</a>[&amp;<a class="code" href="namespacegenevalmag.html#ab100c06acfd394415ddcf909a5c9490f">save_rule</a>]&gt;&gt;
<a name="l00243"></a>00243                                                   *(str_p(<span class="stringliteral">&quot;|&quot;</span>)[&amp;<a class="code" href="namespacegenevalmag.html#abd826b7a45bf0c29f45dc8f8c64c0805">create_abbreviated_rule</a>]&gt;&gt;
<a name="l00244"></a>00244                                                   <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7c9d5ea66aaf2f84b0a91c0c33c1fe24">r_right_rule</a>[&amp;<a class="code" href="namespacegenevalmag.html#ab100c06acfd394415ddcf909a5c9490f">save_rule</a>])&gt;&gt;
<a name="l00245"></a>00245                                                   <span class="charliteral">&#39;;&#39;</span>;
<a name="l00246"></a>00246 
<a name="l00247"></a>00247                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7c9d5ea66aaf2f84b0a91c0c33c1fe24">r_right_rule</a> = +( <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a3cd3a5ea5bb94000d6283f353f49017b">r_ident</a>[&amp;<a class="code" href="namespacegenevalmag.html#a6d8584e0b692b4a20384e0742b22630a">create_new_non_terminal</a>][<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7cf91669589785b113405dd95b5d138f">st_non_terminal</a>.add]
<a name="l00248"></a>00248                                         | <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a80b4c09cb692c6a9467d346637ab18a5">r_terminal</a>[&amp;<a class="code" href="namespacegenevalmag.html#a3ab01d2c2dc547707d49394c59211460">create_new_terminal</a>]
<a name="l00249"></a>00249                                                     )[&amp;<a class="code" href="namespacegenevalmag.html#ab3b5ed3e86e091b48713f1e3a0065d9c">save_right_side_rule</a>]&gt;&gt;
<a name="l00250"></a>00250                                                    !<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ab9840756f2fe52673ec64e2825e9581b">r_compute_eq</a>;
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 
<a name="l00253"></a>00253                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a80b4c09cb692c6a9467d346637ab18a5">r_terminal</a> = lexeme_d[ch_p(<span class="charliteral">&#39;\&#39;&#39;</span>)&gt;&gt;<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae79512aaef022aaef9c68f92ea4f6a85">r_string_lit</a>&gt;&gt;ch_p(<span class="charliteral">&#39;\&#39;&#39;</span>)];
<a name="l00254"></a>00254 
<a name="l00255"></a>00255                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ab9840756f2fe52673ec64e2825e9581b">r_compute_eq</a> = lexeme_d[str_p(<span class="stringliteral">&quot;compute&quot;</span>)&gt;&gt;space_p]&gt;&gt;
<a name="l00256"></a>00256                                                +(<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a2e00d968a46bd87be46613a484dc1504">r_equation</a>)&gt;&gt;
<a name="l00257"></a>00257                                                    str_p(<span class="stringliteral">&quot;end&quot;</span>);
<a name="l00258"></a>00258 
<a name="l00259"></a>00259                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a2e00d968a46bd87be46613a484dc1504">r_equation</a> = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a47295777cd7f9a9069b7dc3aa42a9e6a">r_instance</a>[&amp;<a class="code" href="namespacegenevalmag.html#ac0759c1555b62ec188a704ee700aac2a">create_equation</a>]&gt;&gt;
<a name="l00260"></a>00260                                              <span class="charliteral">&#39;=&#39;</span>&gt;&gt;
<a name="l00261"></a>00261                                              <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ab9e3433766abc53ec6c8c3cccbe57b8b">r_expression</a>[&amp;<a class="code" href="namespacegenevalmag.html#a5c23096b7d1c0ef8a09f03de8c4b8e68">save_rvalue</a>]&gt;&gt;
<a name="l00262"></a>00262                                              <span class="charliteral">&#39;;&#39;</span>;
<a name="l00263"></a>00263 
<a name="l00264"></a>00264                         <span class="comment">/*</span>
<a name="l00265"></a>00265 <span class="comment">                         * Expression&#39;s Grammar non ambiguos based in</span>
<a name="l00266"></a>00266 <span class="comment">                         *</span>
<a name="l00267"></a>00267 <span class="comment">                         *          E = T *(&lt;op_infix&gt; T)</span>
<a name="l00268"></a>00268 <span class="comment">                         *              T = F *(&lt;op_postfix&gt;)</span>
<a name="l00269"></a>00269 <span class="comment">                         *                |(&lt;op_prefix&gt;) T</span>
<a name="l00270"></a>00270 <span class="comment">                         *              F = (E)</span>
<a name="l00271"></a>00271 <span class="comment">                         *                |function</span>
<a name="l00272"></a>00272 <span class="comment">                         *                |literal</span>
<a name="l00273"></a>00273 <span class="comment">                         *                |instance</span>
<a name="l00274"></a>00274 <span class="comment">                         */</span>
<a name="l00275"></a>00275                         r_expression = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ac8e35c6d00b378efb3015a9e4158f4cf">r_expr_prime</a>&gt;&gt;*(<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a19be6f1c2a2cd3ff25f83795fc7bf349">r_op_infix_st</a>[&amp;<a class="code" href="namespacegenevalmag.html#afa1b5eab4ae88dcc8cdea82c8a94042e">create_operator</a>][&amp;<a class="code" href="namespacegenevalmag.html#a2f41a8b96eb7d5bdca16a4924dcd020f">create_func_node</a>]&gt;&gt;
<a name="l00276"></a>00276                                                <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ac8e35c6d00b378efb3015a9e4158f4cf">r_expr_prime</a>[&amp;<a class="code" href="namespacegenevalmag.html#a2a5aaaff7c3b3b8efc446903121a62c6">create_root_infix_node</a>]);
<a name="l00277"></a>00277 
<a name="l00278"></a>00278                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ac8e35c6d00b378efb3015a9e4158f4cf">r_expr_prime</a> = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a0b218dc1d0e2483e9d87ffd9e14684cd">r_expr_prime_prime</a>&gt;&gt;
<a name="l00279"></a>00279                                                *(<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a991947011b04988e682ecb1a28fe5551">r_op_postfix_st</a>[&amp;<a class="code" href="namespacegenevalmag.html#afa1b5eab4ae88dcc8cdea82c8a94042e">create_operator</a>][&amp;<a class="code" href="namespacegenevalmag.html#a2f41a8b96eb7d5bdca16a4924dcd020f">create_func_node</a>][&amp;<a class="code" href="namespacegenevalmag.html#ad2e6e0ea9f03843a2adb23ea4c43453f">create_root_postfix_node</a>])
<a name="l00280"></a>00280                                                  | <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a2233f17bc87358652ad803f71327abd2">r_op_prefix_st</a>[&amp;<a class="code" href="namespacegenevalmag.html#afa1b5eab4ae88dcc8cdea82c8a94042e">create_operator</a>][&amp;<a class="code" href="namespacegenevalmag.html#a2f41a8b96eb7d5bdca16a4924dcd020f">create_func_node</a>]&gt;&gt;
<a name="l00281"></a>00281                                                    r_expr_prime[&amp;<a class="code" href="namespacegenevalmag.html#a2947fff1246a0fbe137217896a658a5b">create_root_prefix_node</a>]
<a name="l00282"></a>00282                                                  ;
<a name="l00283"></a>00283 
<a name="l00284"></a>00284                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a0b218dc1d0e2483e9d87ffd9e14684cd">r_expr_prime_prime</a>  = ch_p(<span class="charliteral">&#39;(&#39;</span>)[&amp;<a class="code" href="namespacegenevalmag.html#a0cd76ff96d0edddb2332eb74a4085ab5">increment_level</a>]&gt;&gt;r_expression&gt;&gt;ch_p(<span class="charliteral">&#39;)&#39;</span>)[&amp;<a class="code" href="namespacegenevalmag.html#ac34c135063b809b19dafd05aa81297c8">decrement_level</a>]
<a name="l00285"></a>00285                                                                 | <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8a68eb853e2fa23baaac61a0087074be">r_function</a>[&amp;<a class="code" href="namespacegenevalmag.html#abf7e87f4c01eacdac90dd0875d9e1f0a">create_root_function_node</a>]
<a name="l00286"></a>00286                                                                 | <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a681c18f52b8ef949c068467ee956212a">r_literal</a>[&amp;<a class="code" href="namespacegenevalmag.html#a5acc69c06c112cad864e048a095396c5">create_literal_node</a>]
<a name="l00287"></a>00287                                                                 | <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a47295777cd7f9a9069b7dc3aa42a9e6a">r_instance</a>[&amp;<a class="code" href="namespacegenevalmag.html#a931db9fc9546a03ac92ae77ca4ad9f21">create_instance_node</a>]
<a name="l00288"></a>00288                                                                 ;
<a name="l00289"></a>00289 
<a name="l00290"></a>00290                         <span class="comment">/*</span>
<a name="l00291"></a>00291 <span class="comment">                         * The functions accept a list of expressions.</span>
<a name="l00292"></a>00292 <span class="comment">                         */</span>
<a name="l00293"></a>00293                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8a68eb853e2fa23baaac61a0087074be">r_function</a> = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8efa4b64c8fa11f71c1d37cb8036a469">r_function_st</a>[&amp;<a class="code" href="namespacegenevalmag.html#a166358b221cbf34ec512b137326d6c44">create_function</a>][&amp;<a class="code" href="namespacegenevalmag.html#a2f41a8b96eb7d5bdca16a4924dcd020f">create_func_node</a>]&gt;&gt;
<a name="l00294"></a>00294                                              ch_p(<span class="charliteral">&#39;(&#39;</span>)[&amp;<a class="code" href="namespacegenevalmag.html#a411fcac88bb0937d75b54d20601b6b33">push_mark</a>][&amp;<a class="code" href="namespacegenevalmag.html#a0cd76ff96d0edddb2332eb74a4085ab5">increment_level</a>]&gt;&gt;
<a name="l00295"></a>00295                                              !(r_expression%<span class="charliteral">&#39;,&#39;</span>)&gt;&gt;
<a name="l00296"></a>00296                                              ch_p(<span class="charliteral">&#39;)&#39;</span>)[&amp;<a class="code" href="namespacegenevalmag.html#ac34c135063b809b19dafd05aa81297c8">decrement_level</a>];
<a name="l00297"></a>00297 
<a name="l00298"></a>00298                         <span class="comment">/*</span>
<a name="l00299"></a>00299 <span class="comment">                         * Literals accepted: Integer and Float numbers, characters</span>
<a name="l00300"></a>00300 <span class="comment">                         * and string, between signs &#39; and &quot; respectively, and boolean.</span>
<a name="l00301"></a>00301 <span class="comment">                     */</span>
<a name="l00302"></a>00302                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a681c18f52b8ef949c068467ee956212a">r_literal</a> = longest_d[real_p|int_p][&amp;<a class="code" href="namespacegenevalmag.html#a380b107e4dbce952517d6aac470e7ce7">create_lit_number</a>]
<a name="l00303"></a>00303                                           | <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8ba1a8b7f2d8442370525bef29181fb6">r_char</a>[&amp;<a class="code" href="namespacegenevalmag.html#a48bc87a884f21e2f39a19b6ef43bedf9">create_lit_ch</a>]
<a name="l00304"></a>00304                                       | <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a46b0e2fa817970d2ad50aad55b987276">r_string</a>[&amp;<a class="code" href="namespacegenevalmag.html#a474728745db913b81459a7267bb28222">create_lit_str</a>]
<a name="l00305"></a>00305                                           | <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ab2df618e7839598d3cd9de20bc825ff0">r_boolean</a>[&amp;<a class="code" href="namespacegenevalmag.html#ab6467a68d84550ca5d16d15c247499f4">create_bool</a>]
<a name="l00306"></a>00306                                           ;
<a name="l00307"></a>00307 
<a name="l00308"></a>00308                         <span class="comment">/*</span>
<a name="l00309"></a>00309 <span class="comment">                         * An instance is, the symbol with the number of occurrences in</span>
<a name="l00310"></a>00310 <span class="comment">                         * square brackets within the rule, with the specific attribute</span>
<a name="l00311"></a>00311 <span class="comment">                         * with which it operates.</span>
<a name="l00312"></a>00312 <span class="comment">                         *</span>
<a name="l00313"></a>00313 <span class="comment">                         * Example: E[0].value</span>
<a name="l00314"></a>00314 <span class="comment">                         */</span>
<a name="l00315"></a>00315                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a47295777cd7f9a9069b7dc3aa42a9e6a">r_instance</a> = lexeme_d[
<a name="l00316"></a>00316                                                <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a35860aafa3d80d2dfa7655088a4950c9">r_non_term_st</a>[&amp;<a class="code" href="namespacegenevalmag.html#a61de26b3fdfcf0998039df573a3ec6f0">create_instance</a>]&gt;&gt;
<a name="l00317"></a>00317                                                    <span class="charliteral">&#39;[&#39;</span>&gt;&gt;int_p[&amp;<a class="code" href="namespacegenevalmag.html#a8f0dbc1c191c7c3e357c9930692e180e">save_index_ins</a>]&gt;&gt;<span class="charliteral">&#39;]&#39;</span>&gt;&gt;
<a name="l00318"></a>00318                                                    <span class="charliteral">&#39;.&#39;</span>&gt;&gt;<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a33e5f0addf7f28dde7855faca702591a">r_attribute_st</a>[&amp;<a class="code" href="namespacegenevalmag.html#a741fa074f83ccbe1fc90a53eb3635ba8">save_attr_ins</a>]
<a name="l00319"></a>00319                                                  ];
<a name="l00320"></a>00320 
<a name="l00321"></a>00321                         <span class="comment">/*</span>
<a name="l00322"></a>00322 <span class="comment">                         * Declaration of Attribute Grammar.</span>
<a name="l00323"></a>00323 <span class="comment">                         */</span>
<a name="l00324"></a>00324                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a19dd364d3c6344d537f156ef42700d55">r_att_grammar</a> = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a9ea576ee1b0ec26c4f6ea706b51a6f96">r_semantic_domain</a> &gt;&gt;
<a name="l00325"></a>00325                                                 <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a6fb7be591d4ce361998c33e3f99aaa4a">r_attributes</a> &gt;&gt;
<a name="l00326"></a>00326                                                 <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a25d876ebeb9dab6244b8c0cd102ab3de">r_rules</a> &gt;&gt;
<a name="l00327"></a>00327                                                 end_p;
<a name="l00328"></a>00328 
<a name="l00329"></a>00329                         <span class="comment">/*</span>
<a name="l00330"></a>00330 <span class="comment">                         * Parsers based in the symbol tables.</span>
<a name="l00331"></a>00331 <span class="comment">                         */</span>
<a name="l00332"></a>00332                         r_sort_st               = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a22d68c8aa8d0c27b6272da7e076dc338">st_sorts</a>|<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a0cdc120e07aa93de5d9ee66e8489ead8">r_cpp_basic_types</a>;
<a name="l00333"></a>00333                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a2233f17bc87358652ad803f71327abd2">r_op_prefix_st</a>  = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#aeb3e8d6c6539eb627c38f96a5ae72759">st_op_prefix</a>;
<a name="l00334"></a>00334                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a19be6f1c2a2cd3ff25f83795fc7bf349">r_op_infix_st</a>   = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae9a2e330966fb02491bf0663ec3b5b96">st_op_infix</a>;
<a name="l00335"></a>00335                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a991947011b04988e682ecb1a28fe5551">r_op_postfix_st</a> = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a628bd190709469b07c2f64c1763fffdf">st_op_postfix</a>;
<a name="l00336"></a>00336                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8efa4b64c8fa11f71c1d37cb8036a469">r_function_st</a>   = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a5d1b5fa3e7dfd54784f7f52c100fdca7">st_functions</a>;
<a name="l00337"></a>00337                         r_attribute_st  = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a657fac5b2a9e5b6c41fad89903fc1e78">st_attributes</a>;
<a name="l00338"></a>00338                         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a35860aafa3d80d2dfa7655088a4950c9">r_non_term_st</a>   = <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7cf91669589785b113405dd95b5d138f">st_non_terminal</a>;
<a name="l00339"></a>00339                 }
<a name="l00340"></a>00340                 <span class="comment">/*</span>
<a name="l00341"></a>00341 <span class="comment">                 * Symbols&#39;s Table for the elements of an Attribute Grammar.</span>
<a name="l00342"></a>00342 <span class="comment">                 */</span>
<a name="l00343"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a22d68c8aa8d0c27b6272da7e076dc338">00343</a>                 symbols &lt;&gt; <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a22d68c8aa8d0c27b6272da7e076dc338">st_sorts</a>;
<a name="l00344"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#aeb3e8d6c6539eb627c38f96a5ae72759">00344</a>                 symbols &lt;&gt; <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#aeb3e8d6c6539eb627c38f96a5ae72759">st_op_prefix</a>;
<a name="l00345"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae9a2e330966fb02491bf0663ec3b5b96">00345</a>                 symbols &lt;&gt; <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae9a2e330966fb02491bf0663ec3b5b96">st_op_infix</a>;
<a name="l00346"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a628bd190709469b07c2f64c1763fffdf">00346</a>                 symbols &lt;&gt; <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a628bd190709469b07c2f64c1763fffdf">st_op_postfix</a>;
<a name="l00347"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a5d1b5fa3e7dfd54784f7f52c100fdca7">00347</a>                 symbols &lt;&gt; <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a5d1b5fa3e7dfd54784f7f52c100fdca7">st_functions</a>;
<a name="l00348"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a657fac5b2a9e5b6c41fad89903fc1e78">00348</a>                 symbols &lt;&gt; <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a657fac5b2a9e5b6c41fad89903fc1e78">st_attributes</a>;
<a name="l00349"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7cf91669589785b113405dd95b5d138f">00349</a>                 symbols &lt;&gt; <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7cf91669589785b113405dd95b5d138f">st_non_terminal</a>;
<a name="l00350"></a>00350 
<a name="l00351"></a>00351                 <span class="comment">/*</span>
<a name="l00352"></a>00352 <span class="comment">                 * Variables using in parsing time.</span>
<a name="l00353"></a>00353 <span class="comment">                 */</span>
<a name="l00354"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ad75a846c3e97a2c46de6cc7bafe5cd86">00354</a>                 <span class="keyword">typedef</span> rule&lt;ScannerT&gt; <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ad75a846c3e97a2c46de6cc7bafe5cd86">rule_exp</a>;
<a name="l00355"></a>00355 
<a name="l00356"></a>00356                  <span class="comment">/* Rule in lexeme_d. */</span>
<a name="l00357"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae8f879e64d097084c7b09ca23778b66b">00357</a>                 <span class="keyword">typedef</span> rule&lt;typename lexeme_scanner&lt;ScannerT&gt;::type&gt; <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae8f879e64d097084c7b09ca23778b66b">rule_lexeme</a>;
<a name="l00358"></a>00358 
<a name="l00359"></a>00359                 <span class="comment">/* Basic rules: identifiers and basic types. */</span>
<a name="l00360"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a46b0e2fa817970d2ad50aad55b987276">00360</a>                 <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ad75a846c3e97a2c46de6cc7bafe5cd86">rule_exp</a> <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a31577dcb0d025bbcdf18f743f2b0dc12">r_reserved_word</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a58133c902b276c3fc7795a0e868f26f9">r_cpp_reserved_words</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a0cdc120e07aa93de5d9ee66e8489ead8">r_cpp_basic_types</a>,
<a name="l00361"></a>00361                          <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a3cd3a5ea5bb94000d6283f353f49017b">r_ident</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a00bb751588780a4499c53c5bc282785b">r_oper</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8ba1a8b7f2d8442370525bef29181fb6">r_char</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a46b0e2fa817970d2ad50aad55b987276">r_string</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ab2df618e7839598d3cd9de20bc825ff0">r_boolean</a>;
<a name="l00362"></a>00362 
<a name="l00363"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae79512aaef022aaef9c68f92ea4f6a85">00363</a>                 <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae8f879e64d097084c7b09ca23778b66b">rule_lexeme</a> <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a36ec94f7566710ed880ee89dfa1d3c57">r_id_op</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ae79512aaef022aaef9c68f92ea4f6a85">r_string_lit</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a3b5b8684d55c4095aef56309030035b3">r_esc_seq</a>;
<a name="l00364"></a>00364 
<a name="l00365"></a>00365         <span class="comment">/* Semantic domain&#39;s rule: Sort, Operator and Function. */</span>
<a name="l00366"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a9ea576ee1b0ec26c4f6ea706b51a6f96">00366</a>         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ad75a846c3e97a2c46de6cc7bafe5cd86">rule_exp</a> <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a9ea576ee1b0ec26c4f6ea706b51a6f96">r_semantic_domain</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7220d53736e4c11511bc1472c04ad803">r_bloq_sem</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#aaadce2fe2c90b72f3752865efee316a1">r_decl_sort</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a20ea69e0be24e838bb6c8592abeee442">r_decl_oper</a>,
<a name="l00367"></a>00367                  <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a411b4044b46f24a80cdbed21c688c7b7">r_decl_func</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7e427631cb39597826061eae16544d46">r_oper_assoc</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a262df28d486a59c2b04c312cb25f0416">r_oper_mode</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8a68baac35400858a4adb56164b2c17e">r_oper_prefix</a>,
<a name="l00368"></a>00368                  <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#aea973cb9f0936661bca48570bf3a046c">r_oper_infix</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ac64bf6eafc41d12c0a8c9b56a2749500">r_oper_postfix</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ab5db15e112b1c264fa4d04bdaa68e758">r_dom_func</a>;
<a name="l00369"></a>00369 
<a name="l00370"></a>00370         <span class="comment">/* Atribute&#39;s rule. */</span>
<a name="l00371"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#af26439d1c38aa5832b576e5dff033cdb">00371</a>         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ad75a846c3e97a2c46de6cc7bafe5cd86">rule_exp</a> <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a6fb7be591d4ce361998c33e3f99aaa4a">r_attributes</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a255e9a3002dc4e6da571b57c6bacc62a">r_decl_attr</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#af26439d1c38aa5832b576e5dff033cdb">r_type_attr</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a72f5a181b2ba65c16488f2c2e2777ea4">r_conj_symb</a>;
<a name="l00372"></a>00372 
<a name="l00373"></a>00373         <span class="comment">/* Rule&#39;s rule. */</span>
<a name="l00374"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a80b4c09cb692c6a9467d346637ab18a5">00374</a>         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ad75a846c3e97a2c46de6cc7bafe5cd86">rule_exp</a> <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a25d876ebeb9dab6244b8c0cd102ab3de">r_rules</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a926ac8cc5506dbfff6bf5e61fe99a67e">r_decl_rule</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a2e00d968a46bd87be46613a484dc1504">r_equation</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a7c9d5ea66aaf2f84b0a91c0c33c1fe24">r_right_rule</a>,
<a name="l00375"></a>00375                  <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a80b4c09cb692c6a9467d346637ab18a5">r_terminal</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ab9840756f2fe52673ec64e2825e9581b">r_compute_eq</a>;
<a name="l00376"></a>00376 
<a name="l00377"></a>00377         <span class="comment">/* Expresion&#39;s rule: Compute. Add context for type expresion. */</span>
<a name="l00378"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a681c18f52b8ef949c068467ee956212a">00378</a>         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ad75a846c3e97a2c46de6cc7bafe5cd86">rule_exp</a> <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ab9e3433766abc53ec6c8c3cccbe57b8b">r_expression</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ac8e35c6d00b378efb3015a9e4158f4cf">r_expr_prime</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a0b218dc1d0e2483e9d87ffd9e14684cd">r_expr_prime_prime</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8a68eb853e2fa23baaac61a0087074be">r_function</a>,
<a name="l00379"></a>00379                  <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a681c18f52b8ef949c068467ee956212a">r_literal</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a47295777cd7f9a9069b7dc3aa42a9e6a">r_instance</a>;
<a name="l00380"></a>00380 
<a name="l00381"></a>00381         <span class="comment">/* Translate for symbol table. */</span>
<a name="l00382"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a13d84a11e23110be3df8f860537ec986">00382</a>         <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ad75a846c3e97a2c46de6cc7bafe5cd86">rule_exp</a> <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a337605b1c4485d58daa5b7fddfbe9f1d">r_sort_st</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a2233f17bc87358652ad803f71327abd2">r_op_prefix_st</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a19be6f1c2a2cd3ff25f83795fc7bf349">r_op_infix_st</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a991947011b04988e682ecb1a28fe5551">r_op_postfix_st</a>,
<a name="l00383"></a>00383                                  <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a8efa4b64c8fa11f71c1d37cb8036a469">r_function_st</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a33e5f0addf7f28dde7855faca702591a">r_attribute_st</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a35860aafa3d80d2dfa7655088a4950c9">r_non_term_st</a>, <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a13d84a11e23110be3df8f860537ec986">r_sort_stable</a>;
<a name="l00384"></a>00384 
<a name="l00385"></a>00385                 <span class="comment">/* Main rule. */</span>
<a name="l00386"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a19dd364d3c6344d537f156ef42700d55">00386</a>                 <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ad75a846c3e97a2c46de6cc7bafe5cd86">rule_exp</a> <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a19dd364d3c6344d537f156ef42700d55">r_att_grammar</a>;
<a name="l00387"></a>00387 
<a name="l00388"></a><a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#af3478aad9726ea5ca5502c847beff9ea">00388</a>                 <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#ad75a846c3e97a2c46de6cc7bafe5cd86">rule_exp</a> <span class="keyword">const</span> &amp;<a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#af3478aad9726ea5ca5502c847beff9ea">start</a>()<span class="keyword"> const</span>
<a name="l00389"></a>00389 <span class="keyword">                </span>{
<a name="l00390"></a>00390                         <span class="keywordflow">return</span> <a class="code" href="structgenevalmag_1_1attritute__grammar_1_1definition.html#a19dd364d3c6344d537f156ef42700d55">r_att_grammar</a>;
<a name="l00391"></a>00391                 }
<a name="l00392"></a>00392         };
<a name="l00393"></a>00393 };
<a name="l00394"></a>00394 
<a name="l00399"></a><a class="code" href="classgenevalmag_1_1Parser__AG.html#a2eda33cb61d0bb2430557ebcad714a10">00399</a> <span class="keywordtype">bool</span> <a class="code" href="classgenevalmag_1_1Parser__AG.html#a2eda33cb61d0bb2430557ebcad714a10">Parser_AG::parse_grammar</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;path_file_input)
<a name="l00400"></a>00400 {
<a name="l00401"></a>00401         <span class="comment">/* File open */</span>
<a name="l00402"></a>00402     <span class="comment">/* Create a file iterator for this file */</span>
<a name="l00403"></a>00403     <a class="code" href="namespacegenevalmag.html#a068de0c39bd97e0f3fe3e3c805632e4b">iterator_f</a> first(path_file_input);
<a name="l00404"></a>00404 
<a name="l00405"></a>00405     <span class="keywordflow">if</span> (!first)
<a name="l00406"></a>00406     {
<a name="l00407"></a>00407         cout &lt;&lt; <span class="stringliteral">&quot;* Parsing grammar ---------- [ FAIL ]&quot;</span> &lt;&lt; endl;
<a name="l00408"></a>00408         cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: the file input non-exist.&quot;</span> &lt;&lt; endl;
<a name="l00409"></a>00409         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00410"></a>00410     }
<a name="l00411"></a>00411 
<a name="l00412"></a>00412     <span class="comment">/* Create an EOF iterator */</span>
<a name="l00413"></a>00413     <a class="code" href="namespacegenevalmag.html#a068de0c39bd97e0f3fe3e3c805632e4b">iterator_f</a> last = first.make_end();
<a name="l00414"></a>00414 
<a name="l00415"></a>00415     <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> begin(first, last, path_file_input);
<a name="l00416"></a>00416     <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end;
<a name="l00417"></a>00417 
<a name="l00418"></a>00418         <a class="code" href="structgenevalmag_1_1attritute__grammar.html">attritute_grammar</a>       attr_grammar_decl;
<a name="l00419"></a>00419         <a class="code" href="structgenevalmag_1_1skip__parser.html">skip_parser</a>                     skip_p;
<a name="l00420"></a>00420 
<a name="l00421"></a>00421         <a class="code" href="namespacegenevalmag.html#ae77bed22019c46ef3b6d11c18c87a85f">set_attr_grammar</a>(&amp;<a class="code" href="classgenevalmag_1_1Parser__AG.html#af806906189d19d98132d94b2fdf4a7d1" title="Internal structure of grammar.">attr_grammar</a>);
<a name="l00422"></a>00422         <a class="code" href="namespacegenevalmag.html#ab68c3ea3b4064fbd96451dd2a094ad34">set_sem_check</a>(&amp;<a class="code" href="classgenevalmag_1_1Parser__AG.html#a0ae8c86d8db3e9e354377588754559fe" title="Semantics control for grammar: Well define grammar.">sem_check</a>);
<a name="l00423"></a>00423 
<a name="l00424"></a>00424         <span class="comment">/* Parses the input. */</span>
<a name="l00425"></a>00425         parse_info&lt;iterator_t&gt; info(parse&lt;iterator_t&gt;(begin, end, attr_grammar_decl, skip_p));
<a name="l00426"></a>00426 
<a name="l00427"></a>00427         <span class="keywordflow">if</span>(info.full)
<a name="l00428"></a>00428         {
<a name="l00429"></a>00429                 <span class="comment">/* Parses success. */</span>
<a name="l00430"></a>00430                 cout &lt;&lt; <span class="stringliteral">&quot;* Parsing grammar ---------- [  OK  ]&quot;</span> &lt;&lt; endl;
<a name="l00431"></a>00431         }
<a name="l00432"></a>00432         <span class="keywordflow">else</span>
<a name="l00433"></a>00433         {
<a name="l00434"></a>00434                 <span class="comment">/* Parses Fail. */</span>
<a name="l00435"></a>00435                 cout &lt;&lt; <span class="stringliteral">&quot;* Parsing grammar ---------- [ FAIL ]\n&quot;</span> &lt;&lt; endl;
<a name="l00436"></a>00436             <span class="keyword">const</span> file_position fp = info.stop.get_position();
<a name="l00437"></a>00437             cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: Parsing Failed, the following text will not be able to parse:&quot;</span> &lt;&lt; endl;
<a name="l00438"></a>00438             cerr &lt;&lt; fp &lt;&lt; endl;
<a name="l00439"></a>00439         }
<a name="l00440"></a>00440         <span class="keywordflow">return</span> info.full;
<a name="l00441"></a>00441 }
<a name="l00442"></a>00442 
<a name="l00447"></a><a class="code" href="classgenevalmag_1_1Parser__AG.html#af583d86ffaf791aced12471108590890">00447</a> <span class="keywordtype">void</span> <a class="code" href="classgenevalmag_1_1Parser__AG.html#af583d86ffaf791aced12471108590890">Parser_AG::save_grammar_file</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> path_output)<span class="keyword"> const</span>
<a name="l00448"></a>00448 <span class="keyword"></span>{
<a name="l00449"></a>00449         <span class="keywordtype">string</span> grammar_t(<span class="stringliteral">&quot;/**\n&quot;</span>);
<a name="l00450"></a>00450         grammar_t.append(<span class="stringliteral">&quot;  * \\file    &quot;</span>);
<a name="l00451"></a>00451         grammar_t.append(<a class="code" href="namespacegenevalmag.html#add88c73415b1eb5c506b9d66b294b7cf">FILE_GRAMMAR</a>);
<a name="l00452"></a>00452         grammar_t.append(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00453"></a>00453         grammar_t.append(<span class="stringliteral">&quot;  * \\brief   Specification of the parsed grammar mag.\n&quot;</span>);
<a name="l00454"></a>00454         grammar_t.append(<span class="stringliteral">&quot;  * \\date    &quot;</span>);
<a name="l00455"></a>00455         time_t rawtime;
<a name="l00456"></a>00456         <span class="keyword">struct </span>tm *timeinfo;
<a name="l00457"></a>00457 
<a name="l00458"></a>00458         time (&amp;rawtime);
<a name="l00459"></a>00459         timeinfo = localtime (&amp;rawtime);
<a name="l00460"></a>00460         grammar_t.append(asctime (timeinfo));
<a name="l00461"></a>00461         grammar_t.append(<span class="stringliteral">&quot;  * \\author  Kilmurray, Gerardo Luis &lt;gerakilmurray@gmail.com&gt;\n&quot;</span>);
<a name="l00462"></a>00462         grammar_t.append(<span class="stringliteral">&quot;  * \\author  Picco, Gonzalo Martin &lt;gonzalopicco@gmail.com&gt;\n&quot;</span>);
<a name="l00463"></a>00463         grammar_t.append(<span class="stringliteral">&quot;*/\n\n&quot;</span>);
<a name="l00464"></a>00464 
<a name="l00465"></a>00465         grammar_t.append(<a class="code" href="classgenevalmag_1_1Parser__AG.html#af806906189d19d98132d94b2fdf4a7d1" title="Internal structure of grammar.">attr_grammar</a>.<a class="code" href="classgenevalmag_1_1Attr__grammar.html#ad2f2da693afe958a6dc84078c391100e">to_string</a>());
<a name="l00466"></a>00466 
<a name="l00467"></a>00467         <span class="keywordtype">string</span> path(path_output);
<a name="l00468"></a>00468         path.append(<a class="code" href="namespacegenevalmag.html#add88c73415b1eb5c506b9d66b294b7cf">FILE_GRAMMAR</a>);
<a name="l00469"></a>00469         std::ofstream file_output(path.c_str());
<a name="l00470"></a>00470         file_output.write(grammar_t.c_str(), grammar_t.size());
<a name="l00471"></a>00471         file_output.close();
<a name="l00472"></a>00472 }
<a name="l00473"></a>00473 
<a name="l00474"></a>00474 } <span class="comment">/* end genevalmag */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Sat Sep 4 15:19:11 2010 for maggen by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
