<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>maggen: src/Parser/Semantics_actions.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>src/Parser/Semantics_actions.cpp</h1><a href="Semantics__actions_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;sstream&gt;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;boost/algorithm/string/erase.hpp&gt;</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;../../include/Parser/Semantics_actions.h&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;../../include/Expression_tree/Expr_instance.h&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;../../include/Expression_tree/Expr_literal.h&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;../../include/Expression_tree/Expr_function.h&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;../../include/Util/Utilities.h&quot;</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="keyword">using namespace </span>std;
<a name="l00021"></a>00021 <span class="keyword">using namespace </span>utilities;
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="keyword">namespace </span>genevalmag
<a name="l00024"></a>00024 {
<a name="l00025"></a>00025 
<a name="l00026"></a><a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">00026</a> <a class="code" href="classgenevalmag_1_1Attr__grammar.html">Attr_grammar</a> *<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>;
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">00028</a> <a class="code" href="classgenevalmag_1_1Semantics__checks.html">Semantics_checks</a> *<a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>;
<a name="l00029"></a>00029 
<a name="l00033"></a><a class="code" href="namespacegenevalmag.html#ae77bed22019c46ef3b6d11c18c87a85f">00033</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#ae77bed22019c46ef3b6d11c18c87a85f">set_attr_grammar</a>(<a class="code" href="classgenevalmag_1_1Attr__grammar.html">Attr_grammar</a> *at_grammar)
<a name="l00034"></a>00034 {
<a name="l00035"></a>00035         <a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a> = at_grammar;
<a name="l00036"></a>00036 }
<a name="l00037"></a>00037 
<a name="l00041"></a><a class="code" href="namespacegenevalmag.html#ab68c3ea3b4064fbd96451dd2a094ad34">00041</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#ab68c3ea3b4064fbd96451dd2a094ad34">set_sem_check</a>(<a class="code" href="classgenevalmag_1_1Semantics__checks.html">Semantics_checks</a> *s_check)
<a name="l00042"></a>00042 {
<a name="l00043"></a>00043         <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a> = s_check;
<a name="l00044"></a>00044 }
<a name="l00045"></a>00045 
<a name="l00049"></a><a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">00049</a> <a class="code" href="classgenevalmag_1_1Function.html">Function</a> *<a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>;
<a name="l00050"></a>00050 
<a name="l00054"></a><a class="code" href="structgenevalmag_1_1decl__attribute.html">00054</a> <span class="keyword">struct </span><a class="code" href="structgenevalmag_1_1decl__attribute.html">decl_attribute</a>
<a name="l00055"></a>00055 {
<a name="l00056"></a><a class="code" href="structgenevalmag_1_1decl__attribute.html#ac4ea14cc1989803540508a67dc7ff13c">00056</a>         vector&lt;string&gt;  <a class="code" href="structgenevalmag_1_1decl__attribute.html#ac4ea14cc1989803540508a67dc7ff13c">d_names</a>;
<a name="l00057"></a><a class="code" href="structgenevalmag_1_1decl__attribute.html#a124f1e6a8dc3316c94e8c3c61cc72254">00057</a>         <span class="keywordtype">string</span>                  <a class="code" href="structgenevalmag_1_1decl__attribute.html#a124f1e6a8dc3316c94e8c3c61cc72254">d_sort_type</a>;
<a name="l00058"></a><a class="code" href="structgenevalmag_1_1decl__attribute.html#a2b7f92bae66963a05669e87a7ccb1810">00058</a>         <a class="code" href="namespacegenevalmag.html#a0ae71e3da3851df63075a93820da40af">type_attr</a>               <a class="code" href="structgenevalmag_1_1decl__attribute.html#a2b7f92bae66963a05669e87a7ccb1810">d_mod_type</a>;
<a name="l00059"></a><a class="code" href="structgenevalmag_1_1decl__attribute.html#a07dd5a1372cfd1e87525ae96cdd59487">00059</a>         <span class="keywordtype">string</span>                  <a class="code" href="structgenevalmag_1_1decl__attribute.html#a07dd5a1372cfd1e87525ae96cdd59487">d_member_symbol</a>;
<a name="l00060"></a>00060 } *<a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>;
<a name="l00061"></a>00061 
<a name="l00065"></a><a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">00065</a> <a class="code" href="classgenevalmag_1_1Rule.html">Rule</a> *<a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>;
<a name="l00066"></a>00066 
<a name="l00070"></a><a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">00070</a> <a class="code" href="classgenevalmag_1_1Expr__instance.html">Expr_instance</a>   *<a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>;
<a name="l00071"></a><a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">00071</a> <a class="code" href="classgenevalmag_1_1Expr__literal.html">Expr_literal</a>            *<a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>;
<a name="l00072"></a><a class="code" href="namespacegenevalmag.html#a5d3b27c53cfad3c612dc56f1750c44a2">00072</a> <a class="code" href="classgenevalmag_1_1Expr__function.html">Expr_function</a>   *<a class="code" href="namespacegenevalmag.html#a5d3b27c53cfad3c612dc56f1750c44a2">current_ast_function</a>;
<a name="l00073"></a><a class="code" href="namespacegenevalmag.html#ad81ea3b166738b52ec4a3b7ac291e64b">00073</a> <a class="code" href="classgenevalmag_1_1Equation.html">Equation</a>                *<a class="code" href="namespacegenevalmag.html#ad81ea3b166738b52ec4a3b7ac291e64b">current_eq</a>;
<a name="l00074"></a>00074 
<a name="l00078"></a><a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">00078</a> vector&lt;Expression*&gt;                     <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>;
<a name="l00079"></a><a class="code" href="namespacegenevalmag.html#a0b445db6f5f211e8d78b693596cbda3c">00079</a> vector&lt;Expr_node*&gt;      <a class="code" href="namespacegenevalmag.html#a0b445db6f5f211e8d78b693596cbda3c">stack_inner_node</a>;
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 
<a name="l00085"></a><a class="code" href="namespacegenevalmag.html#a8fe47e97e9f000f1eb35ee9e86b2a5c0">00085</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a8fe47e97e9f000f1eb35ee9e86b2a5c0">create_sort</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00086"></a>00086 {
<a name="l00087"></a>00087         <span class="keywordtype">string</span> name(str, end);
<a name="l00088"></a>00088         <a class="code" href="classgenevalmag_1_1Sort.html">Sort</a> sort(name);
<a name="l00089"></a>00089         <span class="keywordflow">if</span>(!<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#aaa4b67f68b6cdcf70ed5876b63343db7">add_sort</a>(sort))
<a name="l00090"></a>00090         {
<a name="l00091"></a>00091                 cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: Sort duplicate was ignored: --&gt; &quot;</span> &lt;&lt; sort.<a class="code" href="classgenevalmag_1_1Sort.html#a669e4c331b862e2970738c3e9ad88749">to_string</a>() &lt;&lt; endl;
<a name="l00092"></a>00092         }
<a name="l00093"></a>00093 }
<a name="l00094"></a>00094 
<a name="l00098"></a><a class="code" href="namespacegenevalmag.html#a815257dc75d0f8a85662cdfc618c2187">00098</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a815257dc75d0f8a85662cdfc618c2187">inic_func</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00099"></a>00099 {
<a name="l00100"></a>00100         <span class="comment">/* Ignore the string parsed. */</span>
<a name="l00101"></a>00101         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Function.html">Function</a>();
<a name="l00102"></a>00102 }
<a name="l00103"></a>00103 
<a name="l00104"></a><a class="code" href="namespacegenevalmag.html#aff5e0f0cff477c34b63116d99dfbe9b0">00104</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#aff5e0f0cff477c34b63116d99dfbe9b0">add_function</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00105"></a>00105 {
<a name="l00106"></a>00106         <span class="keywordflow">if</span>(!<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a2dc3357532cdef0dd92eaf3f55ca2ec2">add_function</a>(*<a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>))
<a name="l00107"></a>00107         {
<a name="l00108"></a>00108                 cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: Declaration duplicate was ignored: --&gt; &quot;</span> &lt;&lt; <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>-&gt;<a class="code" href="classgenevalmag_1_1Function.html#ae730b6f7f0108383e1acbdde13813585">to_string</a>() &lt;&lt; endl;
<a name="l00109"></a>00109         }
<a name="l00110"></a>00110         <span class="keyword">delete</span>(<a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>);
<a name="l00111"></a>00111         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a> = NULL;
<a name="l00112"></a>00112 }
<a name="l00113"></a>00113 
<a name="l00114"></a><a class="code" href="namespacegenevalmag.html#af3954dcbe7a20818880776138409f413">00114</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#af3954dcbe7a20818880776138409f413">save_name_func</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00115"></a>00115 {
<a name="l00116"></a>00116         <span class="keywordtype">string</span> name(str, end);
<a name="l00117"></a>00117         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>-&gt;<a class="code" href="classgenevalmag_1_1Function.html#a09a0403fa5eac256e223802d6328041e">set_name</a>(name);
<a name="l00118"></a>00118 }
<a name="l00119"></a>00119 
<a name="l00120"></a><a class="code" href="namespacegenevalmag.html#ae333368e344fd2e4542788afb8d9990e">00120</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#ae333368e344fd2e4542788afb8d9990e">save_domain_func</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00121"></a>00121 {
<a name="l00122"></a>00122         <span class="keywordtype">string</span> domain(str, end);
<a name="l00123"></a>00123         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>-&gt;<a class="code" href="classgenevalmag_1_1Function.html#a283f269af558ded12c3dd51a7edb774a">add_domain</a>(&amp;(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#acfa0b0a6876e33a4f6ab19afd073edf8">return_sort</a>(domain)));
<a name="l00124"></a>00124 }
<a name="l00125"></a>00125 
<a name="l00126"></a><a class="code" href="namespacegenevalmag.html#a6c5fe5628b5ac4b3e2d9c4fc93985abe">00126</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a6c5fe5628b5ac4b3e2d9c4fc93985abe">save_image_func</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00127"></a>00127 {
<a name="l00128"></a>00128         <span class="keywordtype">string</span> image(str, end);
<a name="l00129"></a>00129         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>-&gt;<a class="code" href="classgenevalmag_1_1Function.html#ab82067b5dfd6d143a12defbf6eb52d56">set_image</a>(&amp;(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#acfa0b0a6876e33a4f6ab19afd073edf8">return_sort</a>(image)));
<a name="l00130"></a>00130 }
<a name="l00131"></a>00131 
<a name="l00135"></a><a class="code" href="namespacegenevalmag.html#a5651e2842c6f77725d4c10f46655ead4">00135</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a5651e2842c6f77725d4c10f46655ead4">add_operator</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00136"></a>00136 {
<a name="l00137"></a>00137         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>-&gt;<a class="code" href="classgenevalmag_1_1Function.html#a0814d3aa8b3034c5e415b0dacd65a059">set_is_operator</a>(<a class="code" href="namespacegenevalmag.html#a29dbe8034050c247526ecae47ff95529">IS_OPERATOR</a>);
<a name="l00138"></a>00138         <a class="code" href="namespacegenevalmag.html#aff5e0f0cff477c34b63116d99dfbe9b0">add_function</a>(str, end);
<a name="l00139"></a>00139 }
<a name="l00140"></a>00140 
<a name="l00141"></a><a class="code" href="namespacegenevalmag.html#a6c04408088fac02746a5a14e9b10f304">00141</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a6c04408088fac02746a5a14e9b10f304">save_mode_op</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00142"></a>00142 {
<a name="l00143"></a>00143         <span class="keywordtype">string</span> mode(str, end);
<a name="l00144"></a>00144         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>-&gt;<a class="code" href="classgenevalmag_1_1Function.html#a90ff82b99ca7a8bd4795a8c7b6a26ac9">set_mode</a>(mode);
<a name="l00145"></a>00145 }
<a name="l00146"></a>00146 
<a name="l00147"></a><a class="code" href="namespacegenevalmag.html#a76626584a4d067440fb992103081af8a">00147</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a76626584a4d067440fb992103081af8a">save_prec_op</a>(<span class="keywordtype">int</span> <span class="keyword">const</span> prec)
<a name="l00148"></a>00148 {
<a name="l00149"></a>00149         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>-&gt;<a class="code" href="classgenevalmag_1_1Function.html#a56dbc3c8050d207b3fb5542d227326b7">set_prec</a>(prec);
<a name="l00150"></a>00150 }
<a name="l00151"></a>00151 
<a name="l00152"></a><a class="code" href="namespacegenevalmag.html#a3aa0e95a99ace1f802a226e24366f4fb">00152</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a3aa0e95a99ace1f802a226e24366f4fb">save_assoc_op</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00153"></a>00153 {
<a name="l00154"></a>00154         <span class="keywordtype">string</span> assoc(str, end);
<a name="l00155"></a>00155         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>-&gt;<a class="code" href="classgenevalmag_1_1Function.html#a5bf49ede4083dc9621eae9ff8e8b9418">set_oper_assoc</a>(assoc);
<a name="l00156"></a>00156 }
<a name="l00157"></a>00157 
<a name="l00161"></a><a class="code" href="namespacegenevalmag.html#a92edf3022d197c1c9587126d1aea5c9f">00161</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a92edf3022d197c1c9587126d1aea5c9f">add_attribute</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00162"></a>00162 {
<a name="l00163"></a>00163         <span class="keywordtype">string</span> name(str, end);
<a name="l00164"></a>00164         <span class="keywordflow">if</span>(<a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a> == NULL)
<a name="l00165"></a>00165         {
<a name="l00166"></a>00166                 <span class="comment">/* New declaration. Must be allocate new memory. */</span>
<a name="l00167"></a>00167                 <a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a> = <span class="keyword">new</span> <a class="code" href="structgenevalmag_1_1decl__attribute.html">decl_attribute</a>;
<a name="l00168"></a>00168         }
<a name="l00169"></a>00169         <span class="comment">/* Enqueue the name of new attribute. */</span>
<a name="l00170"></a>00170         <a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#ac4ea14cc1989803540508a67dc7ff13c">d_names</a>.push_back(name);
<a name="l00171"></a>00171         <span class="keywordflow">if</span>(<a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#ac4ea14cc1989803540508a67dc7ff13c">d_names</a>.size() == 1)
<a name="l00172"></a>00172         <span class="comment">/* First attribute name. */</span>
<a name="l00173"></a>00173         {
<a name="l00174"></a>00174                 <span class="comment">/* Setting default values. */</span>
<a name="l00175"></a>00175                 <a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#a2b7f92bae66963a05669e87a7ccb1810">d_mod_type</a> = <a class="code" href="namespacegenevalmag.html#a0ae71e3da3851df63075a93820da40afa15c3e71b1d6d4bb754427989b1685fe9">k_synthetize</a>;
<a name="l00176"></a>00176                 <a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#a07dd5a1372cfd1e87525ae96cdd59487">d_member_symbol</a> = <span class="stringliteral">&quot;\0&quot;</span>;
<a name="l00177"></a>00177         }
<a name="l00178"></a>00178 }
<a name="l00179"></a>00179 
<a name="l00180"></a><a class="code" href="namespacegenevalmag.html#a48c1d5796cdb99233cf2dfe9d2224618">00180</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a48c1d5796cdb99233cf2dfe9d2224618">save_sort_attr</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00181"></a>00181 {
<a name="l00182"></a>00182         <span class="keywordtype">string</span> sort(str, end);
<a name="l00183"></a>00183         <a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#a124f1e6a8dc3316c94e8c3c61cc72254">d_sort_type</a> = sort;
<a name="l00184"></a>00184 }
<a name="l00185"></a>00185 
<a name="l00186"></a><a class="code" href="namespacegenevalmag.html#a9669d56acdb87bd7130c7da9d810b53a">00186</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a9669d56acdb87bd7130c7da9d810b53a">save_type_attr</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00187"></a>00187 {
<a name="l00188"></a>00188         <span class="keywordtype">string</span> mod_type(str, end);
<a name="l00189"></a>00189         <span class="keywordflow">if</span>(mod_type.compare(<span class="stringliteral">&quot;inh&quot;</span>) == 0)
<a name="l00190"></a>00190         {
<a name="l00191"></a>00191                 <a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#a2b7f92bae66963a05669e87a7ccb1810">d_mod_type</a> = <a class="code" href="namespacegenevalmag.html#a0ae71e3da3851df63075a93820da40afadab09b74118524cf39af82012b2a106f">k_inherit</a>;
<a name="l00192"></a>00192         }
<a name="l00193"></a>00193 }
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="namespacegenevalmag.html#a8d8548aa085e3c04a2cb7abc9f5deacc">00195</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a8d8548aa085e3c04a2cb7abc9f5deacc">save_member_list_attr</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00196"></a>00196 {
<a name="l00197"></a>00197         <span class="keywordtype">string</span> members(str, end);
<a name="l00198"></a>00198         boost::erase_all(members, <span class="stringliteral">&quot; &quot;</span>);
<a name="l00199"></a>00199         boost::erase_all(members, <span class="stringliteral">&quot;\t&quot;</span>);
<a name="l00200"></a>00200         boost::erase_all(members, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00201"></a>00201         <a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#a07dd5a1372cfd1e87525ae96cdd59487">d_member_symbol</a> = members;
<a name="l00202"></a>00202 }
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="namespacegenevalmag.html#a640285acc8edfe19e082795784dbbd51">00204</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a640285acc8edfe19e082795784dbbd51">create_attributes</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00205"></a>00205 {
<a name="l00206"></a>00206         <span class="keywordflow">for</span>(vector&lt;string&gt;::size_type i(0); i &lt; <a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#ac4ea14cc1989803540508a67dc7ff13c">d_names</a>.size(); i++)
<a name="l00207"></a>00207         {
<a name="l00208"></a>00208                 <a class="code" href="classgenevalmag_1_1Attribute.html">Attribute</a> attr;
<a name="l00209"></a>00209                 attr.<a class="code" href="classgenevalmag_1_1Attribute.html#a295fa8b9fd96ca034adb8acd0c89b7ce">set_name</a>(<a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#ac4ea14cc1989803540508a67dc7ff13c">d_names</a>[i]);
<a name="l00210"></a>00210                 attr.<a class="code" href="classgenevalmag_1_1Attribute.html#a871202067081b9fa79e53c870fb9c3d2">set_sort_type</a>(&amp;(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#acfa0b0a6876e33a4f6ab19afd073edf8">return_sort</a>(<a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#a124f1e6a8dc3316c94e8c3c61cc72254">d_sort_type</a>)));
<a name="l00211"></a>00211                 attr.<a class="code" href="classgenevalmag_1_1Attribute.html#a5145c88f9e2e6e797996e6a31a2492fb">set_mod_type</a>(<a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#a2b7f92bae66963a05669e87a7ccb1810">d_mod_type</a>);
<a name="l00212"></a>00212                 attr.<a class="code" href="classgenevalmag_1_1Attribute.html#a72b9d591826fcd33079edab94855c312">set_member_symbol</a>(<a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>-&gt;<a class="code" href="structgenevalmag_1_1decl__attribute.html#a07dd5a1372cfd1e87525ae96cdd59487">d_member_symbol</a>);
<a name="l00213"></a>00213                 <a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a4ccf3523a20ea3e646942af93a9df7e2">add_attribute</a>(attr);
<a name="l00214"></a>00214         }
<a name="l00215"></a>00215         <span class="comment">/* Free space memory and assign NULL at pointer. */</span>
<a name="l00216"></a>00216         <span class="keyword">delete</span>(<a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a>);
<a name="l00217"></a>00217         <a class="code" href="namespacegenevalmag.html#a3564619b24ff1e9243dee9e501181679">new_attrs</a> = NULL;
<a name="l00218"></a>00218 }
<a name="l00219"></a>00219 
<a name="l00223"></a><a class="code" href="namespacegenevalmag.html#a6d8584e0b692b4a20384e0742b22630a">00223</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a6d8584e0b692b4a20384e0742b22630a">create_new_non_terminal</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00224"></a>00224 {
<a name="l00225"></a>00225         <span class="keywordtype">string</span> name(str, end);
<a name="l00226"></a>00226         <a class="code" href="classgenevalmag_1_1Symbol.html">Symbol</a> symb(name, <a class="code" href="namespacegenevalmag.html#a4c1cf205cb145b09e46df5277bcc70c6a0d5b10929042fdd00485ae2a98454665">k_non_terminal</a>);
<a name="l00227"></a>00227         <a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a66644b6cede73b6dcbdc7b6b7ef8826d">add_symbol</a>(symb);
<a name="l00228"></a>00228 }
<a name="l00229"></a>00229 
<a name="l00230"></a><a class="code" href="namespacegenevalmag.html#a3ab01d2c2dc547707d49394c59211460">00230</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a3ab01d2c2dc547707d49394c59211460">create_new_terminal</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00231"></a>00231 {
<a name="l00232"></a>00232         <span class="keywordtype">string</span> name(str, end);
<a name="l00233"></a>00233         <a class="code" href="classgenevalmag_1_1Symbol.html">Symbol</a> symb(name, <a class="code" href="namespacegenevalmag.html#a4c1cf205cb145b09e46df5277bcc70c6a9529bc3a3a874777649497ef8dfccf1d">k_terminal</a>);
<a name="l00234"></a>00234         <a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a66644b6cede73b6dcbdc7b6b7ef8826d">add_symbol</a>(symb);
<a name="l00235"></a>00235 }
<a name="l00236"></a>00236 
<a name="l00240"></a><a class="code" href="namespacegenevalmag.html#a38a9e6cd331b8e5caad524d12229d71e">00240</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a38a9e6cd331b8e5caad524d12229d71e">create_rule</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00241"></a>00241 {
<a name="l00242"></a>00242         <span class="keywordtype">string</span> left_side_symbol(str, end);
<a name="l00243"></a>00243         <a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Rule.html">Rule</a>();
<a name="l00244"></a>00244         <a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>-&gt;<a class="code" href="classgenevalmag_1_1Rule.html#aadb73aec92b549b69e2a46c5d0fb0c02">set_left_symbol</a>(&amp;(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a09a1044b5f34ae5794d602716b743129">get_symbol</a>(left_side_symbol)));
<a name="l00245"></a>00245 }
<a name="l00246"></a>00246 
<a name="l00247"></a><a class="code" href="namespacegenevalmag.html#ab3b5ed3e86e091b48713f1e3a0065d9c">00247</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#ab3b5ed3e86e091b48713f1e3a0065d9c">save_right_side_rule</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00248"></a>00248 {
<a name="l00249"></a>00249         <span class="keywordtype">string</span> right_side_symbol(str, end);
<a name="l00250"></a>00250         <a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>-&gt;<a class="code" href="classgenevalmag_1_1Rule.html#aad3d9a79889338ef270de09fcbf91729">add_right_symbol</a>(&amp;(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a09a1044b5f34ae5794d602716b743129">get_symbol</a>(right_side_symbol)));
<a name="l00251"></a>00251 }
<a name="l00252"></a>00252 
<a name="l00253"></a><a class="code" href="namespacegenevalmag.html#abd826b7a45bf0c29f45dc8f8c64c0805">00253</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#abd826b7a45bf0c29f45dc8f8c64c0805">create_abbreviated_rule</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00254"></a>00254 {
<a name="l00255"></a>00255         <a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Rule.html">Rule</a>();
<a name="l00256"></a>00256         <a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>-&gt;<a class="code" href="classgenevalmag_1_1Rule.html#aadb73aec92b549b69e2a46c5d0fb0c02">set_left_symbol</a>(<a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>-&gt;<a class="code" href="classgenevalmag_1_1Rule.html#a4d67205ef292350a440a10f7bbdda0e1">get_left_symbol</a>());
<a name="l00257"></a>00257 }
<a name="l00258"></a>00258 
<a name="l00259"></a><a class="code" href="namespacegenevalmag.html#ab100c06acfd394415ddcf909a5c9490f">00259</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#ab100c06acfd394415ddcf909a5c9490f">save_rule</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00260"></a>00260 {
<a name="l00261"></a>00261         <a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#aec81306d22cc26b9d7276b70d30d329b">add_rule</a>(*<a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>);
<a name="l00262"></a>00262         <span class="keyword">delete</span>(<a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>);
<a name="l00263"></a>00263 }
<a name="l00264"></a>00264 
<a name="l00268"></a><a class="code" href="namespacegenevalmag.html#a61de26b3fdfcf0998039df573a3ec6f0">00268</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a61de26b3fdfcf0998039df573a3ec6f0">create_instance</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00269"></a>00269 {
<a name="l00270"></a>00270         <span class="keywordtype">string</span> name(str, end);
<a name="l00271"></a>00271 
<a name="l00272"></a>00272         <span class="keyword">const</span> <a class="code" href="classgenevalmag_1_1Symbol.html">Symbol</a> *symb(&amp;(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a09a1044b5f34ae5794d602716b743129">get_symbol</a>(name)));
<a name="l00273"></a>00273 
<a name="l00274"></a>00274         <span class="keywordflow">if</span> (!<a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>-&gt;<a class="code" href="classgenevalmag_1_1Rule.html#a587e49507f553c99c79c82aabe6c470f">belongs_non_terminal</a>(*symb))
<a name="l00275"></a>00275         {
<a name="l00276"></a>00276                 cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: non-terminal symbol \&quot;&quot;</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">&quot;\&quot; used does not belong to the rule: \&quot;&quot;</span>  &lt;&lt; <a class="code" href="namespaceutilities.html#a644dfdb507e47adf60e6984d28e080fd">cleaning_tabs</a>(<a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>-&gt;<a class="code" href="classgenevalmag_1_1Rule.html#ab29cbf1ccafc2585524ee9cdbe58362b">to_string_not_eqs</a>())&lt;&lt; <span class="stringliteral">&quot;\&quot;.&quot;</span>&lt;&lt; endl;
<a name="l00277"></a>00277                 <span class="keyword">delete</span>(symb);
<a name="l00278"></a>00278                 exit(-1);
<a name="l00279"></a>00279         }
<a name="l00280"></a>00280 
<a name="l00281"></a>00281         <span class="keywordflow">if</span>(<a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a> == NULL)
<a name="l00282"></a>00282         {
<a name="l00283"></a>00283                 <a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Expr__instance.html">Expr_instance</a>();
<a name="l00284"></a>00284         }
<a name="l00285"></a>00285         <a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__instance.html#ab1ba139af4ef942599e8882e7201e1f5">set_symb</a>(symb);
<a name="l00286"></a>00286 }
<a name="l00287"></a>00287 
<a name="l00288"></a><a class="code" href="namespacegenevalmag.html#a8f0dbc1c191c7c3e357c9930692e180e">00288</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a8f0dbc1c191c7c3e357c9930692e180e">save_index_ins</a>(<span class="keywordtype">int</span> <span class="keyword">const</span> index)
<a name="l00289"></a>00289 {
<a name="l00290"></a>00290         <span class="keywordflow">if</span> (index &gt;= <a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>-&gt;<a class="code" href="classgenevalmag_1_1Rule.html#a39eaafed8e0b506686d83175329c1085">count_non_terminal</a>(<a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__instance.html#a5327a138bd6dc934ce89d878d973bfb0">get_symb</a>()))
<a name="l00291"></a>00291         {
<a name="l00292"></a>00292                 cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: Index &quot;</span> &lt;&lt; index &lt;&lt; <span class="stringliteral">&quot; of symbol &quot;</span> &lt;&lt; <a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__instance.html#a5327a138bd6dc934ce89d878d973bfb0">get_symb</a>()-&gt;<a class="code" href="classgenevalmag_1_1Symbol.html#afcd9c46fe546ec9f1b62caeb99377917">get_name</a>() &lt;&lt; <span class="stringliteral">&quot; incorrect.&quot;</span> &lt;&lt; endl;
<a name="l00293"></a>00293                 exit(-1);
<a name="l00294"></a>00294         }
<a name="l00295"></a>00295         <a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__instance.html#abcd585b490f6fb7ad56de91287853a37">set_num</a>(index);
<a name="l00296"></a>00296 }
<a name="l00297"></a>00297 
<a name="l00298"></a><a class="code" href="namespacegenevalmag.html#a741fa074f83ccbe1fc90a53eb3635ba8">00298</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a741fa074f83ccbe1fc90a53eb3635ba8">save_attr_ins</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00299"></a>00299 {
<a name="l00300"></a>00300         <span class="keywordtype">string</span> attr(str, end);
<a name="l00301"></a>00301         <a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__instance.html#a66ddf26666df395c4da1abab5f8d22a9">set_attr</a>(<a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__instance.html#a5327a138bd6dc934ce89d878d973bfb0">get_symb</a>()-&gt;<a class="code" href="classgenevalmag_1_1Symbol.html#a58f45135b17a802eb9e124d91875204b">get_attribute</a>(attr));
<a name="l00302"></a>00302         <span class="keywordflow">if</span>(<a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__instance.html#a18d92b87a30dbf2ca3833e075f76d52e">get_attr</a>() == NULL)
<a name="l00303"></a>00303         {
<a name="l00304"></a>00304                 cerr &lt;&lt; <span class="stringliteral">&quot;ERROR:&quot;</span> &lt;&lt; attr &lt;&lt; <span class="stringliteral">&quot;Attribute non-existent. Check the attributes used in the symbols.&quot;</span> &lt;&lt; endl;
<a name="l00305"></a>00305                 exit(1);
<a name="l00306"></a>00306         }
<a name="l00307"></a>00307 }
<a name="l00308"></a>00308 
<a name="l00309"></a><a class="code" href="namespacegenevalmag.html#a380b107e4dbce952517d6aac470e7ce7">00309</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a380b107e4dbce952517d6aac470e7ce7">create_lit_number</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00310"></a>00310 {
<a name="l00311"></a>00311         <span class="keywordtype">string</span> num(str, end);
<a name="l00312"></a>00312 
<a name="l00313"></a>00313         <span class="keywordflow">if</span>(<a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a> == NULL)
<a name="l00314"></a>00314         {
<a name="l00315"></a>00315                 <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Expr__literal.html">Expr_literal</a>();
<a name="l00316"></a>00316         }
<a name="l00317"></a>00317 
<a name="l00318"></a>00318         <span class="keywordtype">size_t</span> pos(num.find(<span class="charliteral">&#39;.&#39;</span>,0));
<a name="l00319"></a>00319         <span class="keywordflow">if</span> (pos &gt; num.length())
<a name="l00320"></a>00320         {
<a name="l00321"></a>00321                 <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__literal.html#a6a09dcb9f4c693c55b30ead8b70477fe">set_type</a>(<a class="code" href="namespacegenevalmag.html#a054e5e9167597919bb2fe12ba999fb31a9a267b68fe67d8b5af87e04f5a24e1e4">k_int</a>);
<a name="l00322"></a>00322                 <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expression.html#a22920a0309ce122eb22553898ec0108f">set_type_synthetized</a>(<span class="stringliteral">&quot;int&quot;</span>);
<a name="l00323"></a>00323                 <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__literal.html#af5e0c53c8df7f902540387c4ff6912e7">set_value</a>(num);
<a name="l00324"></a>00324         }
<a name="l00325"></a>00325         <span class="keywordflow">else</span>
<a name="l00326"></a>00326         {
<a name="l00327"></a>00327                 <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__literal.html#a6a09dcb9f4c693c55b30ead8b70477fe">set_type</a>(<a class="code" href="namespacegenevalmag.html#a054e5e9167597919bb2fe12ba999fb31aeba0193876196d98c59cc74a2d2f921f">k_float</a>);
<a name="l00328"></a>00328                 <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expression.html#a22920a0309ce122eb22553898ec0108f">set_type_synthetized</a>(<span class="stringliteral">&quot;float&quot;</span>);
<a name="l00329"></a>00329                 <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__literal.html#af5e0c53c8df7f902540387c4ff6912e7">set_value</a>(num);
<a name="l00330"></a>00330         }
<a name="l00331"></a>00331 }
<a name="l00332"></a>00332 
<a name="l00333"></a><a class="code" href="namespacegenevalmag.html#a48bc87a884f21e2f39a19b6ef43bedf9">00333</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a48bc87a884f21e2f39a19b6ef43bedf9">create_lit_ch</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> ch, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00334"></a>00334 {
<a name="l00335"></a>00335         <span class="keywordflow">if</span>(<a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a> == NULL)
<a name="l00336"></a>00336         {
<a name="l00337"></a>00337                 <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Expr__literal.html">Expr_literal</a>();
<a name="l00338"></a>00338         }
<a name="l00339"></a>00339         <span class="comment">/* The pointer +1 and -1 for remove the single quotes. Ex: &#39;u&#39; --&gt; u. */</span>
<a name="l00340"></a>00340         <span class="keywordtype">string</span> ch_l(ch,end);
<a name="l00341"></a>00341         <span class="keywordtype">string</span> ch_l_without_cuotes(ch_l.begin()+1, ch_l.end()-2);
<a name="l00342"></a>00342         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__literal.html#a6a09dcb9f4c693c55b30ead8b70477fe">set_type</a>(<a class="code" href="namespacegenevalmag.html#a054e5e9167597919bb2fe12ba999fb31a32b06dd5827f582f9819cd6f1b43918e">k_char</a>);
<a name="l00343"></a>00343         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expression.html#a22920a0309ce122eb22553898ec0108f">set_type_synthetized</a>(<span class="stringliteral">&quot;char&quot;</span>);
<a name="l00344"></a>00344         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__literal.html#af5e0c53c8df7f902540387c4ff6912e7">set_value</a>(ch_l_without_cuotes);
<a name="l00345"></a>00345 }
<a name="l00346"></a>00346 
<a name="l00347"></a><a class="code" href="namespacegenevalmag.html#a474728745db913b81459a7267bb28222">00347</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a474728745db913b81459a7267bb28222">create_lit_str</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00348"></a>00348 {
<a name="l00349"></a>00349         <span class="keywordflow">if</span>(<a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a> == NULL)
<a name="l00350"></a>00350         {
<a name="l00351"></a>00351                 <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Expr__literal.html">Expr_literal</a>();
<a name="l00352"></a>00352         }
<a name="l00353"></a>00353         <span class="comment">/* The pointer +1 and -1 for remove the double quotes. Ex: &quot;uno&quot; --&gt; uno. */</span>
<a name="l00354"></a>00354         <span class="keywordtype">string</span> str_l(str, end);
<a name="l00355"></a>00355         <span class="keywordtype">string</span> str_l_without_cuotes(str_l.begin()+1, str_l.end()-2);
<a name="l00356"></a>00356         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__literal.html#a6a09dcb9f4c693c55b30ead8b70477fe">set_type</a>(<a class="code" href="namespacegenevalmag.html#a054e5e9167597919bb2fe12ba999fb31af92cb0787d735ed8a5c33b6544340141">k_string</a>);
<a name="l00357"></a>00357         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expression.html#a22920a0309ce122eb22553898ec0108f">set_type_synthetized</a>(<span class="stringliteral">&quot;string&quot;</span>);
<a name="l00358"></a>00358         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__literal.html#af5e0c53c8df7f902540387c4ff6912e7">set_value</a>(str_l_without_cuotes);
<a name="l00359"></a>00359 }
<a name="l00360"></a>00360 
<a name="l00361"></a><a class="code" href="namespacegenevalmag.html#ab6467a68d84550ca5d16d15c247499f4">00361</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#ab6467a68d84550ca5d16d15c247499f4">create_bool</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00362"></a>00362 {
<a name="l00363"></a>00363         <span class="keywordflow">if</span>(<a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a> == NULL)
<a name="l00364"></a>00364         {
<a name="l00365"></a>00365                 <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Expr__literal.html">Expr_literal</a>();
<a name="l00366"></a>00366         }
<a name="l00367"></a>00367         <span class="keywordtype">string</span> str_l(str, end);
<a name="l00368"></a>00368         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__literal.html#a6a09dcb9f4c693c55b30ead8b70477fe">set_type</a>(<a class="code" href="namespacegenevalmag.html#a054e5e9167597919bb2fe12ba999fb31a9ad2ce591e5697b458f8d13f0c8a2e80">k_bool</a>);
<a name="l00369"></a>00369         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expression.html#a22920a0309ce122eb22553898ec0108f">set_type_synthetized</a>(<span class="stringliteral">&quot;bool&quot;</span>);
<a name="l00370"></a>00370         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__literal.html#af5e0c53c8df7f902540387c4ff6912e7">set_value</a>(str_l);
<a name="l00371"></a>00371 }
<a name="l00372"></a>00372 
<a name="l00373"></a><a class="code" href="namespacegenevalmag.html#a166358b221cbf34ec512b137326d6c44">00373</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a166358b221cbf34ec512b137326d6c44">create_function</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00374"></a>00374 {
<a name="l00375"></a>00375         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Function.html">Function</a>();
<a name="l00376"></a>00376         <a class="code" href="namespacegenevalmag.html#af3954dcbe7a20818880776138409f413">save_name_func</a>(str, end);
<a name="l00377"></a>00377 }
<a name="l00378"></a>00378 
<a name="l00379"></a><a class="code" href="namespacegenevalmag.html#afa1b5eab4ae88dcc8cdea82c8a94042e">00379</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#afa1b5eab4ae88dcc8cdea82c8a94042e">create_operator</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00380"></a>00380 {
<a name="l00381"></a>00381         <a class="code" href="namespacegenevalmag.html#a166358b221cbf34ec512b137326d6c44">create_function</a>(str,end);
<a name="l00382"></a>00382         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>-&gt;<a class="code" href="classgenevalmag_1_1Function.html#a0814d3aa8b3034c5e415b0dacd65a059">set_is_operator</a>(<a class="code" href="namespacegenevalmag.html#a29dbe8034050c247526ecae47ff95529">IS_OPERATOR</a>);
<a name="l00383"></a>00383 }
<a name="l00384"></a>00384 
<a name="l00385"></a><a class="code" href="namespacegenevalmag.html#ac0759c1555b62ec188a704ee700aac2a">00385</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#ac0759c1555b62ec188a704ee700aac2a">create_equation</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00386"></a>00386 {
<a name="l00387"></a>00387         <a class="code" href="namespacegenevalmag.html#ad81ea3b166738b52ec4a3b7ac291e64b">current_eq</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Equation.html">Equation</a>();
<a name="l00388"></a>00388         <a class="code" href="namespacegenevalmag.html#ad81ea3b166738b52ec4a3b7ac291e64b">current_eq</a>-&gt;<a class="code" href="classgenevalmag_1_1Equation.html#a640c6b66f92e52b3554e75f9f9d18243">set_l_value</a>(*<a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>);
<a name="l00389"></a>00389         <span class="keyword">delete</span>(<a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>);
<a name="l00390"></a>00390         <a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a> = NULL;
<a name="l00391"></a>00391 }
<a name="l00392"></a>00392 
<a name="l00393"></a><a class="code" href="namespacegenevalmag.html#a5c23096b7d1c0ef8a09f03de8c4b8e68">00393</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a5c23096b7d1c0ef8a09f03de8c4b8e68">save_rvalue</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00394"></a>00394 {
<a name="l00395"></a>00395         <span class="comment">/* Check that the type of r_value be expected from l_value. */</span>
<a name="l00396"></a>00396         <span class="keywordflow">if</span> (<a class="code" href="namespacegenevalmag.html#ad81ea3b166738b52ec4a3b7ac291e64b">current_eq</a>-&gt;<a class="code" href="classgenevalmag_1_1Equation.html#a357a3dbd9331f2c7acb70fce221b3d2a">get_l_value</a>()-&gt;<a class="code" href="classgenevalmag_1_1Expr__instance.html#a18d92b87a30dbf2ca3833e075f76d52e">get_attr</a>()-&gt;<a class="code" href="classgenevalmag_1_1Attribute.html#a5e04e4baa950b3c80ecbab0bf9cc56da">get_sort_type</a>()-&gt;<a class="code" href="classgenevalmag_1_1Sort.html#a5bbccf82148fea12f958bd276a009fd4">get_name</a>().compare(<a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.back()-&gt;get_type_synthetized()) != 0)
<a name="l00397"></a>00397         {
<a name="l00398"></a>00398                 cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: Type not expected from l_value.&quot;</span> &lt;&lt; endl;
<a name="l00399"></a>00399                 exit(-1);
<a name="l00400"></a>00400         }
<a name="l00401"></a>00401 
<a name="l00402"></a>00402         <a class="code" href="classgenevalmag_1_1Expression.html">Expression</a> * root_tree(<a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.back());
<a name="l00403"></a>00403         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.pop_back();
<a name="l00404"></a>00404 
<a name="l00405"></a>00405         <span class="comment">/* Check and solve conflicts of associativity. */</span>
<a name="l00406"></a>00406         <a class="code" href="classgenevalmag_1_1Expr__function.html">Expr_function</a> * root_func(dynamic_cast&lt;Expr_function*&gt;(root_tree));
<a name="l00407"></a>00407         <span class="keywordflow">if</span> (root_func)
<a name="l00408"></a>00408         {
<a name="l00409"></a>00409                 <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#a7cc9baa891ee17c0e4140014597c49d8">correct_associativity</a>(&amp;root_func);
<a name="l00410"></a>00410                 root_tree = root_func;
<a name="l00411"></a>00411         }
<a name="l00412"></a>00412 
<a name="l00413"></a>00413         <span class="comment">/* Obtaining the result. */</span>
<a name="l00414"></a>00414         <a class="code" href="namespacegenevalmag.html#ad81ea3b166738b52ec4a3b7ac291e64b">current_eq</a>-&gt;<a class="code" href="classgenevalmag_1_1Equation.html#a227f26570cf37fe0a3ea83855aaaa423">set_r_value</a>(root_tree);
<a name="l00415"></a>00415 
<a name="l00416"></a>00416         <span class="keywordflow">if</span> (!<a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>-&gt;<a class="code" href="classgenevalmag_1_1Rule.html#a55196f34d7b5a4793e089f1332d4c8b0">add_eq</a>(*<a class="code" href="namespacegenevalmag.html#ad81ea3b166738b52ec4a3b7ac291e64b">current_eq</a>))
<a name="l00417"></a>00417         {
<a name="l00418"></a>00418                 cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: Ignores the eq \&quot;&quot;</span> &lt;&lt; <a class="code" href="namespaceutilities.html#a644dfdb507e47adf60e6984d28e080fd">cleaning_tabs</a>(<a class="code" href="namespacegenevalmag.html#ad81ea3b166738b52ec4a3b7ac291e64b">current_eq</a>-&gt;<a class="code" href="classgenevalmag_1_1Equation.html#a1daad7e8abb06ec02999ce3e9fc38322">to_string</a>()) &lt;&lt; <span class="stringliteral">&quot;\&quot; duplicate definition for \&quot;&quot;</span>
<a name="l00419"></a>00419                                 &lt;&lt; <a class="code" href="namespaceutilities.html#a644dfdb507e47adf60e6984d28e080fd">cleaning_tabs</a>(<a class="code" href="namespacegenevalmag.html#ad81ea3b166738b52ec4a3b7ac291e64b">current_eq</a>-&gt;<a class="code" href="classgenevalmag_1_1Equation.html#a357a3dbd9331f2c7acb70fce221b3d2a">get_l_value</a>()-&gt;<a class="code" href="classgenevalmag_1_1Expr__instance.html#a2186bb2f69173f709cfb75435b32da94">to_string</a>()) &lt;&lt; <span class="stringliteral">&quot;\&quot; in rule: --&gt; \&quot;&quot;</span>
<a name="l00420"></a>00420                                 &lt;&lt; <a class="code" href="namespaceutilities.html#a644dfdb507e47adf60e6984d28e080fd">cleaning_tabs</a>(<a class="code" href="namespacegenevalmag.html#afc4896526f13792a5f56fa1c254759d4">current_rule</a>-&gt;<a class="code" href="classgenevalmag_1_1Rule.html#ab29cbf1ccafc2585524ee9cdbe58362b">to_string_not_eqs</a>()) &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span> &lt;&lt; endl;
<a name="l00421"></a>00421         }
<a name="l00422"></a>00422         <span class="keyword">delete</span>(<a class="code" href="namespacegenevalmag.html#ad81ea3b166738b52ec4a3b7ac291e64b">current_eq</a>);
<a name="l00423"></a>00423 
<a name="l00424"></a>00424         <a class="code" href="namespacegenevalmag.html#ad81ea3b166738b52ec4a3b7ac291e64b">current_eq</a> = NULL;
<a name="l00425"></a>00425 
<a name="l00426"></a>00426         <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#a26db5c186627aa6fcfc8e69b26b7706c">reset_semantic_context</a>();
<a name="l00427"></a>00427 }
<a name="l00428"></a>00428 
<a name="l00429"></a><a class="code" href="namespacegenevalmag.html#a411fcac88bb0937d75b54d20601b6b33">00429</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a411fcac88bb0937d75b54d20601b6b33">push_mark</a>(<span class="keywordtype">char</span> name)
<a name="l00430"></a>00430 {
<a name="l00431"></a>00431         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Expr__literal.html">Expr_literal</a>();
<a name="l00432"></a>00432         <span class="comment">/* Mark for parameter of function. */</span>
<a name="l00433"></a>00433         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expression.html#a22920a0309ce122eb22553898ec0108f">set_type_synthetized</a>(<span class="stringliteral">&quot;#&quot;</span>);
<a name="l00434"></a>00434         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__literal.html#af5e0c53c8df7f902540387c4ff6912e7">set_value</a>(<span class="stringliteral">&quot;#&quot;</span>);
<a name="l00435"></a>00435         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.push_back(<a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>);
<a name="l00436"></a>00436         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a> = NULL;
<a name="l00437"></a>00437 }
<a name="l00438"></a>00438 
<a name="l00443"></a><a class="code" href="namespacegenevalmag.html#a5acc69c06c112cad864e048a095396c5">00443</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a5acc69c06c112cad864e048a095396c5">create_literal_node</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00444"></a>00444 {
<a name="l00445"></a>00445         <span class="comment">/* Push literal in stack. */</span>
<a name="l00446"></a>00446         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.push_back(<a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a>);
<a name="l00447"></a>00447         <a class="code" href="namespacegenevalmag.html#a09a13d15a03643602e801cf36685ede0">current_literal</a> = NULL;
<a name="l00448"></a>00448 }
<a name="l00449"></a>00449 
<a name="l00450"></a><a class="code" href="namespacegenevalmag.html#a931db9fc9546a03ac92ae77ca4ad9f21">00450</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a931db9fc9546a03ac92ae77ca4ad9f21">create_instance_node</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00451"></a>00451 {
<a name="l00452"></a>00452         <span class="comment">/* Syntetize type instance. */</span>
<a name="l00453"></a>00453         <a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>-&gt;<a class="code" href="classgenevalmag_1_1Expression.html#a22920a0309ce122eb22553898ec0108f">set_type_synthetized</a>(<a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__instance.html#a18d92b87a30dbf2ca3833e075f76d52e">get_attr</a>()-&gt;<a class="code" href="classgenevalmag_1_1Attribute.html#a5e04e4baa950b3c80ecbab0bf9cc56da">get_sort_type</a>()-&gt;<a class="code" href="classgenevalmag_1_1Sort.html#a5bbccf82148fea12f958bd276a009fd4">get_name</a>());
<a name="l00454"></a>00454         <span class="comment">/* Push instance in stack. */</span>
<a name="l00455"></a>00455         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.push_back(<a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a>);
<a name="l00456"></a>00456         <a class="code" href="namespacegenevalmag.html#a4e01071642cc57ba91fe84d929195c7c">current_instance</a> = NULL;
<a name="l00457"></a>00457 };
<a name="l00458"></a>00458 
<a name="l00459"></a><a class="code" href="namespacegenevalmag.html#a2f41a8b96eb7d5bdca16a4924dcd020f">00459</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a2f41a8b96eb7d5bdca16a4924dcd020f">create_func_node</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00460"></a>00460 {
<a name="l00461"></a>00461         <a class="code" href="namespacegenevalmag.html#a5d3b27c53cfad3c612dc56f1750c44a2">current_ast_function</a> = <span class="keyword">new</span> <a class="code" href="classgenevalmag_1_1Expr__function.html">Expr_function</a>();
<a name="l00462"></a>00462         <span class="comment">/* Set aux function. */</span>
<a name="l00463"></a>00463         <a class="code" href="namespacegenevalmag.html#a5d3b27c53cfad3c612dc56f1750c44a2">current_ast_function</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__function.html#a9d3e5b95868a98b9014d0f1de4ac8ae8">set_function</a>(<a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a>);
<a name="l00464"></a>00464 
<a name="l00465"></a>00465         <span class="comment">/* Set variables for check precedence and asociativity. */</span>
<a name="l00466"></a>00466         <a class="code" href="namespacegenevalmag.html#a5d3b27c53cfad3c612dc56f1750c44a2">current_ast_function</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__function.html#a9ad92c765b202584cc0d5b4648b2e44b">set_precedence_level</a>(<a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#ad6b0e8d52900149631ae1d38ce61bf94">get_precedence_level</a>());
<a name="l00467"></a>00467         <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#ac755d47def82c431fa38053a58f231b6">increment_index_syntax_order</a>();
<a name="l00468"></a>00468         <a class="code" href="namespacegenevalmag.html#a5d3b27c53cfad3c612dc56f1750c44a2">current_ast_function</a>-&gt;<a class="code" href="classgenevalmag_1_1Expr__function.html#a4d7c89c116c5f5f081f3527aa76b5e97">set_syntax_order</a>(<a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#a6d51fcd1f3ed2d6bf5470de0fb5b7770">get_index_syntax_order</a>());
<a name="l00469"></a>00469 
<a name="l00470"></a>00470         <a class="code" href="namespacegenevalmag.html#a910b57b31dc9d8772d89a082d88f0c50">current_func</a> = NULL;
<a name="l00471"></a>00471 
<a name="l00472"></a>00472         <span class="comment">/* Push Expr_function in stack. */</span>
<a name="l00473"></a>00473         <a class="code" href="namespacegenevalmag.html#a0b445db6f5f211e8d78b693596cbda3c">stack_inner_node</a>.push_back(<a class="code" href="namespacegenevalmag.html#a5d3b27c53cfad3c612dc56f1750c44a2">current_ast_function</a>);
<a name="l00474"></a>00474         <a class="code" href="namespacegenevalmag.html#a5d3b27c53cfad3c612dc56f1750c44a2">current_ast_function</a> = NULL;
<a name="l00475"></a>00475 };
<a name="l00476"></a>00476 
<a name="l00477"></a><a class="code" href="namespacegenevalmag.html#a2a5aaaff7c3b3b8efc446903121a62c6">00477</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a2a5aaaff7c3b3b8efc446903121a62c6">create_root_infix_node</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00478"></a>00478 {
<a name="l00479"></a>00479         <span class="comment">/* Pop the infix operator. */</span>
<a name="l00480"></a>00480         <a class="code" href="classgenevalmag_1_1Expr__function.html">Expr_function</a> *root((<a class="code" href="classgenevalmag_1_1Expr__function.html">Expr_function</a>*)<a class="code" href="namespacegenevalmag.html#a0b445db6f5f211e8d78b693596cbda3c">stack_inner_node</a>.back());
<a name="l00481"></a>00481         <a class="code" href="namespacegenevalmag.html#a0b445db6f5f211e8d78b693596cbda3c">stack_inner_node</a>.pop_back();
<a name="l00482"></a>00482 
<a name="l00483"></a>00483         <span class="comment">/* Pop first parameter of operator. */</span>
<a name="l00484"></a>00484         <a class="code" href="classgenevalmag_1_1Expression.html">Expression</a> *r_child(<a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.back());
<a name="l00485"></a>00485         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.pop_back();
<a name="l00486"></a>00486 
<a name="l00487"></a>00487         <span class="comment">/* Pop second parameter of operator. */</span>
<a name="l00488"></a>00488         <a class="code" href="classgenevalmag_1_1Expression.html">Expression</a> *l_child(<a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.back());
<a name="l00489"></a>00489         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.pop_back();
<a name="l00490"></a>00490 
<a name="l00491"></a>00491         <span class="keywordtype">string</span> key(<span class="stringliteral">&quot;infix&quot;</span>);
<a name="l00492"></a>00492         key.append(root-&gt;get_function()-&gt;get_name());
<a name="l00493"></a>00493         key.append(l_child-&gt;get_type_synthetized());
<a name="l00494"></a>00494         key.append(r_child-&gt;get_type_synthetized());
<a name="l00495"></a>00495 
<a name="l00496"></a>00496         <span class="comment">/* Searches of infix operator. */</span>
<a name="l00497"></a>00497         <span class="keyword">const</span> <a class="code" href="classgenevalmag_1_1Function.html">Function</a> *func(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#ae1070b6d532da48fb2d87c40c76cf341">get_function</a>(key));
<a name="l00498"></a>00498         <span class="keyword">const</span> <a class="code" href="classgenevalmag_1_1Function.html">Function</a> *old(root-&gt;get_function());
<a name="l00499"></a>00499 
<a name="l00500"></a>00500         <span class="comment">/* Free aux function. */</span>
<a name="l00501"></a>00501         <span class="keyword">delete</span>(old);
<a name="l00502"></a>00502 
<a name="l00503"></a>00503         <span class="keywordflow">if</span> (func == NULL)
<a name="l00504"></a>00504         {
<a name="l00505"></a>00505                 cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: infix operator non-exist: &quot;</span> &lt;&lt; key &lt;&lt; endl;
<a name="l00506"></a>00506                 exit(-1);
<a name="l00507"></a>00507         }
<a name="l00508"></a>00508 
<a name="l00509"></a>00509         root-&gt;set_function(func);
<a name="l00510"></a>00510 
<a name="l00511"></a>00511         <span class="comment">/* Syntetize type infix operator. */</span>
<a name="l00512"></a>00512         root-&gt;set_type_synthetized(root-&gt;get_function()-&gt;get_image()-&gt;get_name());
<a name="l00513"></a>00513 
<a name="l00514"></a>00514         root-&gt;add_child(r_child);
<a name="l00515"></a>00515         root-&gt;add_child(l_child);
<a name="l00516"></a>00516 
<a name="l00517"></a>00517         <span class="comment">/* Check the state of precedence of operators. */</span>
<a name="l00518"></a>00518         <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#a5ad77ec398637204eea7e88b5d4fa74e">correct_precedence</a>(&amp;root);
<a name="l00519"></a>00519 
<a name="l00520"></a>00520         <span class="comment">/* Push infix operator in stack. */</span>
<a name="l00521"></a>00521         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.push_back(root);
<a name="l00522"></a>00522 }
<a name="l00523"></a>00523 
<a name="l00524"></a><a class="code" href="namespacegenevalmag.html#abf7e87f4c01eacdac90dd0875d9e1f0a">00524</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#abf7e87f4c01eacdac90dd0875d9e1f0a">create_root_function_node</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00525"></a>00525 {
<a name="l00526"></a>00526         <span class="comment">/* Pop the function. */</span>
<a name="l00527"></a>00527         <a class="code" href="classgenevalmag_1_1Expr__function.html">Expr_function</a> *root((<a class="code" href="classgenevalmag_1_1Expr__function.html">Expr_function</a>*)<a class="code" href="namespacegenevalmag.html#a0b445db6f5f211e8d78b693596cbda3c">stack_inner_node</a>.back());
<a name="l00528"></a>00528         <a class="code" href="namespacegenevalmag.html#a0b445db6f5f211e8d78b693596cbda3c">stack_inner_node</a>.pop_back();
<a name="l00529"></a>00529 
<a name="l00530"></a>00530         <span class="keywordtype">string</span> key;
<a name="l00531"></a>00531         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i(<a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.size() - 1);
<a name="l00532"></a>00532         <span class="keywordflow">while</span> (i &gt; 0)
<a name="l00533"></a>00533         <span class="comment">/* The cycle searches the parameters until that finds the mark. */</span>
<a name="l00534"></a>00534         {
<a name="l00535"></a>00535                 <span class="comment">/* Parameter of function. */</span>
<a name="l00536"></a>00536                 <a class="code" href="classgenevalmag_1_1Expression.html">Expression</a> *child(<a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.back());
<a name="l00537"></a>00537                 <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.pop_back();
<a name="l00538"></a>00538 
<a name="l00539"></a>00539                 <span class="keywordflow">if</span> (child-&gt;get_type_synthetized().compare(<span class="stringliteral">&quot;#&quot;</span>) == 0)
<a name="l00540"></a>00540                 {
<a name="l00541"></a>00541                         <span class="keyword">delete</span>(child);
<a name="l00542"></a>00542                         <span class="keywordflow">break</span>;
<a name="l00543"></a>00543                 }
<a name="l00544"></a>00544                 root-&gt;add_child(child);
<a name="l00545"></a>00545 
<a name="l00546"></a>00546                 <span class="keywordtype">string</span> s_child(child-&gt;get_type_synthetized());
<a name="l00547"></a>00547                 key = s_child.append(key);
<a name="l00548"></a>00548                 i--;
<a name="l00549"></a>00549         }
<a name="l00550"></a>00550         <span class="keywordtype">string</span> s_root(root-&gt;get_function()-&gt;get_name());
<a name="l00551"></a>00551         key = s_root.append(key);
<a name="l00552"></a>00552 
<a name="l00553"></a>00553         <span class="comment">/* Searches function. */</span>
<a name="l00554"></a>00554         <span class="keyword">const</span> <a class="code" href="classgenevalmag_1_1Function.html">Function</a> *func(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#ae1070b6d532da48fb2d87c40c76cf341">get_function</a>(key));
<a name="l00555"></a>00555 
<a name="l00556"></a>00556         <span class="keywordflow">if</span> (func == NULL)
<a name="l00557"></a>00557         {
<a name="l00558"></a>00558                 cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: Function non-exist: &quot;</span> &lt;&lt; key &lt;&lt; endl;
<a name="l00559"></a>00559                 exit(-1);
<a name="l00560"></a>00560         }
<a name="l00561"></a>00561 
<a name="l00562"></a>00562         <span class="keyword">const</span> <a class="code" href="classgenevalmag_1_1Function.html">Function</a> *old(root-&gt;get_function());
<a name="l00563"></a>00563         root-&gt;set_function(func);
<a name="l00564"></a>00564         <span class="comment">/* Free aux function. */</span>
<a name="l00565"></a>00565         <span class="keyword">delete</span>(old);
<a name="l00566"></a>00566 
<a name="l00567"></a>00567         <span class="comment">/* Syntetize type function. */</span>
<a name="l00568"></a>00568         root-&gt;set_type_synthetized(root-&gt;get_function()-&gt;get_image()-&gt;get_name());
<a name="l00569"></a>00569 
<a name="l00570"></a>00570         <span class="comment">/* Push function in stack. */</span>
<a name="l00571"></a>00571         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.push_back(root);
<a name="l00572"></a>00572 }
<a name="l00573"></a>00573 
<a name="l00574"></a><a class="code" href="namespacegenevalmag.html#ad2e6e0ea9f03843a2adb23ea4c43453f">00574</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#ad2e6e0ea9f03843a2adb23ea4c43453f">create_root_postfix_node</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00575"></a>00575 {
<a name="l00576"></a>00576         <span class="comment">/* Pop the postfix operator. */</span>
<a name="l00577"></a>00577         <a class="code" href="classgenevalmag_1_1Expr__function.html">Expr_function</a> *root((<a class="code" href="classgenevalmag_1_1Expr__function.html">Expr_function</a>*)<a class="code" href="namespacegenevalmag.html#a0b445db6f5f211e8d78b693596cbda3c">stack_inner_node</a>.back());
<a name="l00578"></a>00578         <a class="code" href="namespacegenevalmag.html#a0b445db6f5f211e8d78b693596cbda3c">stack_inner_node</a>.pop_back();
<a name="l00579"></a>00579 
<a name="l00580"></a>00580         <span class="comment">/* Parameters of operator. */</span>
<a name="l00581"></a>00581         <a class="code" href="classgenevalmag_1_1Expression.html">Expression</a> *child(<a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.back());
<a name="l00582"></a>00582         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.pop_back();
<a name="l00583"></a>00583 
<a name="l00584"></a>00584         <span class="keywordtype">string</span> key(<span class="stringliteral">&quot;postfix&quot;</span>);
<a name="l00585"></a>00585         key.append(root-&gt;get_function()-&gt;get_name());
<a name="l00586"></a>00586         key.append(child-&gt;get_type_synthetized());
<a name="l00587"></a>00587 
<a name="l00588"></a>00588         <span class="comment">/* Searches posfix operator. */</span>
<a name="l00589"></a>00589         <span class="keyword">const</span> <a class="code" href="classgenevalmag_1_1Function.html">Function</a> *func(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#ae1070b6d532da48fb2d87c40c76cf341">get_function</a>(key));
<a name="l00590"></a>00590 
<a name="l00591"></a>00591         <span class="keywordflow">if</span> (func == NULL)
<a name="l00592"></a>00592         {
<a name="l00593"></a>00593                 cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: postfix operator non-exist: &quot;</span> &lt;&lt; key &lt;&lt; endl;
<a name="l00594"></a>00594                 exit(-1);
<a name="l00595"></a>00595         }
<a name="l00596"></a>00596 
<a name="l00597"></a>00597         <span class="keyword">const</span> <a class="code" href="classgenevalmag_1_1Function.html">Function</a> *old(root-&gt;get_function());
<a name="l00598"></a>00598         root-&gt;set_function(func);
<a name="l00599"></a>00599         <span class="comment">/* Free aux function. */</span>
<a name="l00600"></a>00600         <span class="keyword">delete</span>(old);
<a name="l00601"></a>00601 
<a name="l00602"></a>00602         <span class="comment">/* Syntetize type postfix operator. */</span>
<a name="l00603"></a>00603         root-&gt;set_type_synthetized(root-&gt;get_function()-&gt;get_image()-&gt;get_name());
<a name="l00604"></a>00604 
<a name="l00605"></a>00605         root-&gt;add_child(child);
<a name="l00606"></a>00606 
<a name="l00607"></a>00607         <span class="comment">/* Check the state of precedence of operators. */</span>
<a name="l00608"></a>00608         <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#a5ad77ec398637204eea7e88b5d4fa74e">correct_precedence</a>(&amp;root);
<a name="l00609"></a>00609 
<a name="l00610"></a>00610         <span class="comment">/* Push postfix operator in stack. */</span>
<a name="l00611"></a>00611         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.push_back(root);
<a name="l00612"></a>00612 }
<a name="l00613"></a>00613 
<a name="l00614"></a><a class="code" href="namespacegenevalmag.html#a2947fff1246a0fbe137217896a658a5b">00614</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a2947fff1246a0fbe137217896a658a5b">create_root_prefix_node</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00615"></a>00615 {
<a name="l00616"></a>00616         <span class="comment">/* Pop the prefix operator. */</span>
<a name="l00617"></a>00617         <a class="code" href="classgenevalmag_1_1Expr__function.html">Expr_function</a> *root((<a class="code" href="classgenevalmag_1_1Expr__function.html">Expr_function</a>*)<a class="code" href="namespacegenevalmag.html#a0b445db6f5f211e8d78b693596cbda3c">stack_inner_node</a>.back());
<a name="l00618"></a>00618         <a class="code" href="namespacegenevalmag.html#a0b445db6f5f211e8d78b693596cbda3c">stack_inner_node</a>.pop_back();
<a name="l00619"></a>00619 
<a name="l00620"></a>00620         <span class="comment">/* Parameter of operator. */</span>
<a name="l00621"></a>00621         <a class="code" href="classgenevalmag_1_1Expression.html">Expression</a> *child(<a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.back());
<a name="l00622"></a>00622         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.pop_back();
<a name="l00623"></a>00623 
<a name="l00624"></a>00624         <span class="keywordtype">string</span> key(<span class="stringliteral">&quot;prefix&quot;</span>);
<a name="l00625"></a>00625         key.append(root-&gt;get_function()-&gt;get_name());
<a name="l00626"></a>00626         key.append(child-&gt;get_type_synthetized());
<a name="l00627"></a>00627 
<a name="l00628"></a>00628         <span class="comment">/* Searches prefix operator. */</span>
<a name="l00629"></a>00629         <span class="keyword">const</span> <a class="code" href="classgenevalmag_1_1Function.html">Function</a> *func(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#ae1070b6d532da48fb2d87c40c76cf341">get_function</a>(key));
<a name="l00630"></a>00630 
<a name="l00631"></a>00631         <span class="keywordflow">if</span> (func == NULL)
<a name="l00632"></a>00632         {
<a name="l00633"></a>00633                 cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: prefix operator non-exist: &quot;</span> &lt;&lt; key &lt;&lt; endl;
<a name="l00634"></a>00634                 exit(-1);
<a name="l00635"></a>00635         }
<a name="l00636"></a>00636 
<a name="l00637"></a>00637         <span class="keyword">const</span> <a class="code" href="classgenevalmag_1_1Function.html">Function</a>  *old(root-&gt;get_function());
<a name="l00638"></a>00638         root-&gt;set_function(func);
<a name="l00639"></a>00639         <span class="comment">/* Free aux function. */</span>
<a name="l00640"></a>00640         <span class="keyword">delete</span>(old);
<a name="l00641"></a>00641 
<a name="l00642"></a>00642         <span class="comment">/* Syntetize type prefix operator. */</span>
<a name="l00643"></a>00643         root-&gt;set_type_synthetized(root-&gt;get_function()-&gt;get_image()-&gt;get_name());
<a name="l00644"></a>00644 
<a name="l00645"></a>00645         root-&gt;add_child(child);
<a name="l00646"></a>00646 
<a name="l00647"></a>00647         <span class="comment">/* Correct the state of precedence of operators. */</span>
<a name="l00648"></a>00648         <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#a5ad77ec398637204eea7e88b5d4fa74e">correct_precedence</a>(&amp;root);
<a name="l00649"></a>00649 
<a name="l00650"></a>00650         <span class="comment">/* Push prefix operator in stack. */</span>
<a name="l00651"></a>00651         <a class="code" href="namespacegenevalmag.html#a47998af84055c40ecfcdfe156f71be04">stack_node</a>.push_back(root);
<a name="l00652"></a>00652 }
<a name="l00653"></a>00653 
<a name="l00654"></a><a class="code" href="namespacegenevalmag.html#ac8f04dfdf39c964f9219cc5a7fb7197b">00654</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#ac8f04dfdf39c964f9219cc5a7fb7197b">check_well_defined</a>(<span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> str, <span class="keyword">const</span> <a class="code" href="namespacegenevalmag.html#a64946721fb97e58be670a468bf8e7056">iterator_t</a> end)
<a name="l00655"></a>00655 {
<a name="l00656"></a>00656         <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#abb0a26862b6134eeb10f55b701ded180">check_all_defined_non_terminal</a>(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a41be9d108df7f8159bd989a5c174be87">get_rules</a>(), <a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a50a326649bbf48d2d715144cef59a75e">get_non_terminal_symbols</a>());
<a name="l00657"></a>00657 
<a name="l00658"></a>00658         <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#a6d2a6d53c499f3e7abbd19ecbc0d69d5">check_reachability</a>(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a41be9d108df7f8159bd989a5c174be87">get_rules</a>(), <a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a50a326649bbf48d2d715144cef59a75e">get_non_terminal_symbols</a>(), <a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a5a476aa583e3f9e1bbfe182b5ee2f759">get_initial_symb</a>());
<a name="l00659"></a>00659 
<a name="l00660"></a>00660         <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#a7234750d25c375989dfc9318e081571d">check_well_defined_AG</a>(<a class="code" href="namespacegenevalmag.html#a85aabf29d2f206619e2d128154283336">attr_grammar</a>-&gt;<a class="code" href="classgenevalmag_1_1Attr__grammar.html#a41be9d108df7f8159bd989a5c174be87">get_rules</a>());
<a name="l00661"></a>00661 }
<a name="l00662"></a>00662 
<a name="l00663"></a><a class="code" href="namespacegenevalmag.html#a0cd76ff96d0edddb2332eb74a4085ab5">00663</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#a0cd76ff96d0edddb2332eb74a4085ab5">increment_level</a>(<span class="keywordtype">char</span> name)
<a name="l00664"></a>00664 {
<a name="l00665"></a>00665         <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#ae9e488640f503bbd04a212f282f48826">increment_precedence_level</a>();
<a name="l00666"></a>00666 }
<a name="l00667"></a>00667 
<a name="l00668"></a><a class="code" href="namespacegenevalmag.html#ac34c135063b809b19dafd05aa81297c8">00668</a> <span class="keywordtype">void</span> <a class="code" href="namespacegenevalmag.html#ac34c135063b809b19dafd05aa81297c8">decrement_level</a>(<span class="keywordtype">char</span> name)
<a name="l00669"></a>00669 {
<a name="l00670"></a>00670         <a class="code" href="namespacegenevalmag.html#ad93efa78140ac10eefb71fdb44c48b6b">sem_check</a>-&gt;<a class="code" href="classgenevalmag_1_1Semantics__checks.html#a0596851fd5b0e972d7b21a116141e154">decrement_precedence_level</a>();
<a name="l00671"></a>00671 }
<a name="l00672"></a>00672 
<a name="l00673"></a>00673 } <span class="comment">/* end genevalmag */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Sat Sep 4 15:19:12 2010 for maggen by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
